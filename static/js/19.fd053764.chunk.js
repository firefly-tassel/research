(this.webpackJsonpresearch=this.webpackJsonpresearch||[]).push([[19],{112:function(t,e,o){"use strict";o.d(e,"a",(function(){return r})),o.d(e,"b",(function(){return s})),o.d(e,"c",(function(){return l})),o.d(e,"d",(function(){return d})),o.d(e,"e",(function(){return u}));var i=o(72),n=o(46);function r(t,e){var o={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return function(t,e,o){var r=e.getComponent("tooltip"),s=e.getComponent("axisPointer"),l=s.get("link",!0)||[],d=[];Object(n.k)(o.getCoordinateSystems(),(function(o){if(o.axisPointerEnabled){var h=u(o.model),p=t.coordSysAxesInfo[h]={};t.coordSysMap[h]=o;var f=o.model.getModel("tooltip",r);if(Object(n.k)(o.getAxes(),Object(n.i)(v,!1,null)),o.getTooltipAxes&&r&&f.get("show")){var g="axis"===f.get("trigger"),y="cross"===f.get(["axisPointer","type"]),m=o.getTooltipAxes(f.get(["axisPointer","axis"]));(g||y)&&Object(n.k)(m.baseAxes,Object(n.i)(v,!y||"cross",g)),y&&Object(n.k)(m.otherAxes,Object(n.i)(v,"cross",!1))}}function v(r,h,g){var y=g.model.getModel("axisPointer",s),m=y.get("show");if(m&&("auto"!==m||r||c(y))){null==h&&(h=y.get("triggerTooltip")),y=r?function(t,e,o,r,a,s){var l=e.getModel("axisPointer"),d=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],c={};Object(n.k)(d,(function(t){c[t]=Object(n.d)(l.get(t))})),c.snap="category"!==t.type&&!!s,"cross"===l.get("type")&&(c.type="line");var u=c.label||(c.label={});if(null==u.show&&(u.show=!1),"cross"===a){var h=l.get(["label","show"]);if(u.show=null==h||h,!s){var p=c.lineStyle=l.get("crossStyle");p&&Object(n.j)(u,p.textStyle)}}return t.model.getModel("axisPointer",new i.a(c,o,r))}(g,f,s,e,r,h):y;var v=y.get("snap"),x=u(g.model),b=h||v||"category"===g.type,_=t.axesInfo[x]={key:x,axis:g,coordSys:o,axisPointerModel:y,triggerTooltip:h,involveSeries:b,snap:v,useHandle:c(y),seriesModels:[],linkGroup:null};p[x]=_,t.seriesInvolved=t.seriesInvolved||b;var w=function(t,e){for(var o=e.model,i=e.dim,n=0;n<t.length;n++){var r=t[n]||{};if(a(r[i+"AxisId"],o.id)||a(r[i+"AxisIndex"],o.componentIndex)||a(r[i+"AxisName"],o.name))return n}}(l,g);if(null!=w){var S=d[w]||(d[w]={axesInfo:{}});S.axesInfo[x]=_,S.mapper=l[w].mapper,_.linkGroup=S}}}}))}(o,t,e),o.seriesInvolved&&function(t,e){e.eachSeries((function(e){var o=e.coordinateSystem,i=e.get(["tooltip","trigger"],!0),r=e.get(["tooltip","show"],!0);o&&"none"!==i&&!1!==i&&"item"!==i&&!1!==r&&!1!==e.get(["axisPointer","show"],!0)&&Object(n.k)(t.coordSysAxesInfo[u(o.model)],(function(t){var i=t.axis;o.getAxis(i.dim)===i&&(t.seriesModels.push(e),null==t.seriesDataCount&&(t.seriesDataCount=0),t.seriesDataCount+=e.getData().count())}))}))}(o,t),o}function a(t,e){return"all"===t||Object(n.s)(t)&&Object(n.q)(t,e)>=0||t===e}function s(t){var e=l(t);if(e){var o=e.axisPointerModel,i=e.axis.scale,n=o.option,r=o.get("status"),a=o.get("value");null!=a&&(a=i.parse(a));var s=c(o);null==r&&(n.status=s?"show":"hide");var d=i.getExtent().slice();d[0]>d[1]&&d.reverse(),(null==a||a>d[1])&&(a=d[1]),a<d[0]&&(a=d[0]),n.value=a,s&&(n.status=e.axis.scale.isBlank()?"hide":"show")}}function l(t){var e=(t.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[u(t)]}function d(t){var e=l(t);return e&&e.axisPointerModel}function c(t){return!!t.get(["handle","show"])}function u(t){return t.type+"||"+t.id}},171:function(t,e,o){"use strict";o.d(e,"b",(function(){return u})),o.d(e,"d",(function(){return p})),o.d(e,"c",(function(){return f})),o.d(e,"a",(function(){return g})),o.d(e,"e",(function(){return y})),o.d(e,"f",(function(){return m}));var i=o(46),n=o(54),r=o(77),a=o(75),s=o(80),l=o(103),d=o(197),c=o(89);function u(t){var e,o=t.get("type"),i=t.getModel(o+"Style");return"line"===o?(e=i.getLineStyle()).fill=null:"shadow"===o&&((e=i.getAreaStyle()).stroke=null),e}function h(t,e,o,i,n){var s=p(o.get("value"),e.axis,e.ecModel,o.get("seriesDataIndices"),{precision:o.get(["label","precision"]),formatter:o.get(["label","formatter"])}),l=o.getModel("label"),d=a.g(l.get("padding")||0),u=l.getFont(),h=r.e(s,u),f=n.position,g=h.width+d[1]+d[3],y=h.height+d[0]+d[2],m=n.align;"right"===m&&(f[0]-=g),"center"===m&&(f[0]-=g/2);var v=n.verticalAlign;"bottom"===v&&(f[1]-=y),"middle"===v&&(f[1]-=y/2),function(t,e,o,i){var n=i.getWidth(),r=i.getHeight();t[0]=Math.min(t[0]+e,n)-e,t[1]=Math.min(t[1]+o,r)-o,t[0]=Math.max(t[0],0),t[1]=Math.max(t[1],0)}(f,g,y,i);var x=l.get("backgroundColor");x&&"auto"!==x||(x=e.get(["axisLine","lineStyle","color"])),t.label={x:f[0],y:f[1],style:Object(c.b)(l,{text:s,font:u,fill:l.getTextColor(),padding:d,backgroundColor:x}),z2:10}}function p(t,e,o,n,r){t=e.scale.parse(t);var a=e.scale.getLabel({value:t},{precision:r.precision}),s=r.formatter;if(s){var d={value:l.c(e,{value:t}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};i.k(n,(function(t){var e=o.getSeriesByIndex(t.seriesIndex),i=t.dataIndexInside,n=e&&e.getDataParams(i);n&&d.seriesData.push(n)})),i.A(s)?a=s.replace("{value}",a):i.v(s)&&(a=s(d))}return a}function f(t,e,o){var i=s.b();return s.f(i,i,o.rotation),s.h(i,i,o.position),n.applyTransform([t.dataToCoord(e),(o.labelOffset||0)+(o.labelDirection||1)*(o.labelMargin||0)],i)}function g(t,e,o,i,n,r){var a=d.a.innerTextLayout(o.rotation,0,o.labelDirection);o.labelMargin=n.get(["label","margin"]),h(e,i,n,r,{position:f(i.axis,t,o),align:a.textAlign,verticalAlign:a.textVerticalAlign})}function y(t,e,o){return{x1:t[o=o||0],y1:t[1-o],x2:e[o],y2:e[1-o]}}function m(t,e,o){return{x:t[o=o||0],y:t[1-o],width:e[o],height:e[1-o]}}},173:function(t,e,o){"use strict";o.d(e,"c",(function(){return r})),o.d(e,"b",(function(){return a})),o.d(e,"a",(function(){return s}));var i=o(46),n=o(49);function r(t,e,o){o=o||{};var n=t.coordinateSystem,r=e.axis,a={},s=r.getAxesOnZeroOf()[0],l=r.position,d=s?"onZero":l,c=r.dim,u=n.getRect(),h=[u.x,u.x+u.width,u.y,u.y+u.height],p={left:0,right:1,top:0,bottom:1,onZero:2},f=e.get("offset")||0,g="x"===c?[h[2]-f,h[3]+f]:[h[0]-f,h[1]+f];if(s){var y=s.toGlobalCoord(s.dataToCoord(0));g[p.onZero]=Math.max(Math.min(y,g[1]),g[0])}a.position=["y"===c?g[p[d]]:h[0],"x"===c?g[p[d]]:h[3]],a.rotation=Math.PI/2*("x"===c?0:1);a.labelDirection=a.tickDirection=a.nameDirection={top:-1,bottom:1,left:-1,right:1}[l],a.labelOffset=s?g[p[l]]-g[p.onZero]:0,e.get(["axisTick","inside"])&&(a.tickDirection=-a.tickDirection),i.L(o.labelInside,e.get(["axisLabel","inside"]))&&(a.labelDirection=-a.labelDirection);var m=e.get(["axisLabel","rotate"]);return a.labelRotate="top"===d?-m:m,a.z2=1,a}function a(t){return"cartesian2d"===t.get("coordinateSystem")}function s(t){var e={xAxisModel:null,yAxisModel:null};return i.k(e,(function(o,i){var r=i.replace(/Model$/,""),a=t.getReferringComponents(r,n.b).models[0];e[i]=a})),e}},174:function(t,e,o){"use strict";o.d(e,"a",(function(){return l})),o.d(e,"b",(function(){return u}));var i=o(46),n=o(66),r=o(49),a=Object(r.m)(),s=i.k;function l(t,e,o){if(!n.a.node){var r=e.getZr();a(r).records||(a(r).records={}),function(t,e){if(a(t).initialized)return;function o(o,i){t.on(o,(function(o){var n=function(t){var e={showTip:[],hideTip:[]};return{dispatchAction:function o(i){var n=e[i.type];n?n.push(i):(i.dispatchAction=o,t.dispatchAction(i))},pendings:e}}(e);s(a(t).records,(function(t){t&&i(t,o,n.dispatchAction)})),function(t,e){var o,i=t.showTip.length,n=t.hideTip.length;i?o=t.showTip[i-1]:n&&(o=t.hideTip[n-1]);o&&(o.dispatchAction=null,e.dispatchAction(o))}(n.pendings,e)}))}a(t).initialized=!0,o("click",i.i(c,"click")),o("mousemove",i.i(c,"mousemove")),o("globalout",d)}(r,e),(a(r).records[t]||(a(r).records[t]={})).handler=o}}function d(t,e,o){t.handler("leave",null,o)}function c(t,e,o,i){e.handler(t,o,i)}function u(t,e){if(!n.a.node){var o=e.getZr();(a(o).records||{})[t]&&(a(o).records[t]=null)}}},175:function(t,e,o){"use strict";o.d(e,"a",(function(){return r}));var i=o(46),n=o(49);function r(t,e){var o,r=[],a=t.seriesIndex;if(null==a||!(o=e.getSeriesByIndex(a)))return{point:[]};var s=o.getData(),l=n.s(s,t);if(null==l||l<0||i.s(l))return{point:[]};var d=s.getItemGraphicEl(l),c=o.coordinateSystem;if(o.getTooltipPosition)r=o.getTooltipPosition(l)||[];else if(c&&c.dataToPoint)if(t.isStacked){var u=c.getBaseAxis(),h=c.getOtherAxis(u).dim,p=u.dim,f="x"===h||"radius"===h?1:0,g=s.mapDimension(p),y=[];y[f]=s.get(g,l),y[1-f]=s.get(s.getCalculationInfo("stackResultDimension"),l),r=c.dataToPoint(y)||[]}else r=c.dataToPoint(s.getValues(i.F(c.dimensions,(function(t){return s.mapDimension(t)})),l))||[];else if(d){var m=d.getBoundingRect().clone();m.applyTransform(d.transform),r=[m.x+m.width/2,m.y+m.height/2]}return{point:r,el:d}}},196:function(t,e,o){"use strict";var i=o(53),n=o(112),r=o(84),a={},s=function(t){function e(){var o=null!==t&&t.apply(this,arguments)||this;return o.type=e.type,o}return Object(i.b)(e,t),e.prototype.render=function(e,o,i,r){this.axisPointerClass&&n.b(e),t.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(e,i,!0)},e.prototype.updateAxisPointer=function(t,e,o,i){this._doUpdateAxisPointerClass(t,o,!1)},e.prototype.remove=function(t,e){var o=this._axisPointer;o&&o.remove(e)},e.prototype.dispose=function(e,o){this._disposeAxisPointer(o),t.prototype.dispose.apply(this,arguments)},e.prototype._doUpdateAxisPointerClass=function(t,o,i){var r=e.getAxisPointerClass(this.axisPointerClass);if(r){var a=n.d(t);a?(this._axisPointer||(this._axisPointer=new r)).render(t,a,o,i):this._disposeAxisPointer(o)}},e.prototype._disposeAxisPointer=function(t){this._axisPointer&&this._axisPointer.dispose(t),this._axisPointer=null},e.registerAxisPointerClass=function(t,e){a[t]=e},e.getAxisPointerClass=function(t){return t&&a[t]},e.type="axis",e}(r.a);e.a=s},197:function(t,e,o){"use strict";var i=o(46),n=o(94),r=o(165),a=o(111),s=o(54),l=o(79),d=o(89),c=o(72),u=o(56),h=o(122),p=o(80),f=o(71),g=o(103),y=o(198),m=Math.PI,v=function(){function t(t,e){this.group=new n.a,this.opt=e,this.axisModel=t,Object(i.j)(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var o=new n.a({x:e.position[0],y:e.position[1],rotation:e.rotation});o.updateTransform(),this._transformGroup=o}return t.prototype.hasBuilder=function(t){return!!x[t]},t.prototype.add=function(t){x[t](this.opt,this.axisModel,this.group,this._transformGroup)},t.prototype.getGroup=function(){return this.group},t.innerTextLayout=function(t,e,o){var i,n,r=Object(u.u)(e-t);return Object(u.k)(r)?(n=o>0?"top":"bottom",i="center"):Object(u.k)(r-m)?(n=o>0?"bottom":"top",i="center"):(n="middle",i=r>0&&r<m?o>0?"right":"left":o>0?"left":"right"),{rotation:r,textAlign:i,textVerticalAlign:n}},t.makeAxisEventDataBase=function(t){var e={componentType:t.mainType,componentIndex:t.componentIndex};return e[t.mainType+"Index"]=t.componentIndex,e},t.isLabelSilent=function(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)},t}(),x={axisLine:function(t,e,o,n){var a=e.get(["axisLine","show"]);if("auto"===a&&t.handleAutoShown&&(a=t.handleAutoShown("axisLine")),a){var s=e.axis.getExtent(),l=n.transform,d=[s[0],0],c=[s[1],0];l&&(Object(f.b)(d,d,l),Object(f.b)(c,c,l));var u=Object(i.m)({lineCap:"round"},e.getModel(["axisLine","lineStyle"]).getLineStyle()),p=new r.a({subPixelOptimize:!0,shape:{x1:d[0],y1:d[1],x2:c[0],y2:c[1]},style:u,strokeContainThreshold:t.strokeContainThreshold||5,silent:!0,z2:1});p.anid="line",o.add(p);var g=e.get(["axisLine","symbol"]);if(null!=g){var y=e.get(["axisLine","symbolSize"]);"string"===typeof g&&(g=[g,g]),"string"!==typeof y&&"number"!==typeof y||(y=[y,y]);var m=Object(h.b)(e.get(["axisLine","symbolOffset"])||0,y),v=y[0],x=y[1];Object(i.k)([{rotate:t.rotation+Math.PI/2,offset:m[0],r:0},{rotate:t.rotation-Math.PI/2,offset:m[1],r:Math.sqrt((d[0]-c[0])*(d[0]-c[0])+(d[1]-c[1])*(d[1]-c[1]))}],(function(e,i){if("none"!==g[i]&&null!=g[i]){var n=Object(h.a)(g[i],-v/2,-x/2,v,x,u.stroke,!0),r=e.r+e.offset;n.attr({rotation:e.rotate,x:d[0]+r*Math.cos(t.rotation),y:d[1]-r*Math.sin(t.rotation),silent:!0,z2:11}),o.add(n)}}))}}},axisTickLabel:function(t,e,o,n){var r=function(t,e,o,n){var r=o.axis,a=o.getModel("axisTick"),s=a.get("show");"auto"===s&&n.handleAutoShown&&(s=n.handleAutoShown("axisTick"));if(!s||r.scale.isBlank())return;for(var l=a.getModel("lineStyle"),d=n.tickDirection*a.get("length"),c=S(r.getTicksCoords(),e.transform,d,Object(i.j)(l.getLineStyle(),{stroke:o.get(["axisLine","lineStyle","color"])}),"ticks"),u=0;u<c.length;u++)t.add(c[u]);return c}(o,n,e,t),s=function(t,e,o,n){var r=o.axis;if(!Object(i.L)(n.axisLabelShow,o.get(["axisLabel","show"]))||r.scale.isBlank())return;var s=o.getModel("axisLabel"),u=s.get("margin"),h=r.getViewLabels(),p=(Object(i.L)(n.labelRotate,s.get("rotate"))||0)*m/180,f=v.innerTextLayout(n.rotation,p,n.labelDirection),g=o.getCategories&&o.getCategories(!0),y=[],x=v.isLabelSilent(o),b=o.get("triggerEvent");return Object(i.k)(h,(function(h,p){var m="ordinal"===r.scale.type?r.scale.getRawOrdinalNumber(h.tickValue):h.tickValue,_=h.formattedLabel,w=h.rawLabel,S=s;if(g&&g[m]){var I=g[m];Object(i.z)(I)&&I.textStyle&&(S=new c.a(I.textStyle,s,o.ecModel))}var O=S.getTextColor()||o.get(["axisLine","lineStyle","color"]),T=r.dataToCoord(m),C=new a.a({x:T,y:n.labelOffset+n.labelDirection*u,rotation:f.rotation,silent:x,z2:10+(h.level||0),style:Object(d.b)(S,{text:_,align:S.getShallow("align",!0)||f.textAlign,verticalAlign:S.getShallow("verticalAlign",!0)||S.getShallow("baseline",!0)||f.textVerticalAlign,fill:"function"===typeof O?O("category"===r.type?w:"value"===r.type?m+"":m,p):O})});if(C.anid="label_"+m,b){var M=v.makeAxisEventDataBase(o);M.targetType="axisLabel",M.value=w,Object(l.a)(C).eventData=M}e.add(C),C.updateTransform(),y.push(C),t.add(C),C.decomposeTransform()})),y}(o,n,e,t);if(function(t,e,o){if(Object(g.i)(t.axis))return;var i=t.get(["axisLabel","showMinLabel"]),n=t.get(["axisLabel","showMaxLabel"]);o=o||[];var r=(e=e||[])[0],a=e[1],s=e[e.length-1],l=e[e.length-2],d=o[0],c=o[1],u=o[o.length-1],h=o[o.length-2];!1===i?(b(r),b(d)):_(r,a)&&(i?(b(a),b(c)):(b(r),b(d)));!1===n?(b(s),b(u)):_(l,s)&&(n?(b(l),b(h)):(b(s),b(u)))}(e,s,r),function(t,e,o,n){var r=o.axis,a=o.getModel("minorTick");if(!a.get("show")||r.scale.isBlank())return;var s=r.getMinorTicksCoords();if(!s.length)return;for(var l=a.getModel("lineStyle"),d=n*a.get("length"),c=Object(i.j)(l.getLineStyle(),Object(i.j)(o.getModel("axisTick").getLineStyle(),{stroke:o.get(["axisLine","lineStyle","color"])})),u=0;u<s.length;u++)for(var h=S(s[u],e.transform,d,c,"minorticks_"+u),p=0;p<h.length;p++)t.add(h[p])}(o,n,e,t.tickDirection),e.get(["axisLabel","hideOverlap"])){var u=Object(y.b)(Object(i.F)(s,(function(t){return{label:t,priority:t.z2,defaultAttr:{ignore:t.ignore}}})));Object(y.a)(u)}},axisName:function(t,e,o,n){var r=Object(i.L)(t.axisName,e.get("name"));if(r){var c,h,p=e.get("nameLocation"),f=t.nameDirection,g=e.getModel("nameTextStyle"),y=e.get("nameGap")||0,x=e.axis.getExtent(),b=x[0]>x[1]?-1:1,_=["start"===p?x[0]-b*y:"end"===p?x[1]+b*y:(x[0]+x[1])/2,w(p)?t.labelOffset+f*y:0],S=e.get("nameRotate");null!=S&&(S=S*m/180),w(p)?c=v.innerTextLayout(t.rotation,null!=S?S:t.rotation,f):(c=function(t,e,o,i){var n,r,a=Object(u.u)(o-t),s=i[0]>i[1],l="start"===e&&!s||"start"!==e&&s;Object(u.k)(a-m/2)?(r=l?"bottom":"top",n="center"):Object(u.k)(a-1.5*m)?(r=l?"top":"bottom",n="center"):(r="middle",n=a<1.5*m&&a>m/2?l?"left":"right":l?"right":"left");return{rotation:a,textAlign:n,textVerticalAlign:r}}(t.rotation,p,S||0,x),null!=(h=t.axisNameAvailableWidth)&&(h=Math.abs(h/Math.sin(c.rotation)),!isFinite(h)&&(h=null)));var I=g.getFont(),O=e.get("nameTruncate",!0)||{},T=O.ellipsis,C=Object(i.L)(t.nameTruncateMaxWidth,O.maxWidth,h),M=new a.a({x:_[0],y:_[1],rotation:c.rotation,silent:v.isLabelSilent(e),style:Object(d.b)(g,{text:r,font:I,overflow:"truncate",width:C,ellipsis:T,fill:g.getTextColor()||e.get(["axisLine","lineStyle","color"]),align:g.get("align")||c.textAlign,verticalAlign:g.get("verticalAlign")||c.textVerticalAlign}),z2:1});if(s.setTooltipConfig({el:M,componentModel:e,itemName:r}),M.__fullText=r,M.anid="name",e.get("triggerEvent")){var A=v.makeAxisEventDataBase(e);A.targetType="axisName",A.name=r,Object(l.a)(M).eventData=A}n.add(M),M.updateTransform(),o.add(M),M.decomposeTransform()}}};function b(t){t&&(t.ignore=!0)}function _(t,e){var o=t&&t.getBoundingRect().clone(),i=e&&e.getBoundingRect().clone();if(o&&i){var n=p.c([]);return p.f(n,n,-t.rotation),o.applyTransform(p.e([],n,t.getLocalTransform())),i.applyTransform(p.e([],n,e.getLocalTransform())),o.intersect(i)}}function w(t){return"middle"===t||"center"===t}function S(t,e,o,i,n){for(var a=[],s=[],l=[],d=0;d<t.length;d++){var c=t[d].coord;s[0]=c,s[1]=0,l[0]=c,l[1]=o,e&&(Object(f.b)(s,s,e),Object(f.b)(l,l,e));var u=new r.a({subPixelOptimize:!0,shape:{x1:s[0],y1:s[1],x2:l[0],y2:l[1]},style:i,z2:2,autoBatch:!0,silent:!0});u.anid=n+"_"+t[d].tickValue,a.push(u)}return a}e.a=v},217:function(t,e,o){"use strict";o.d(e,"a",(function(){return X}));var i=o(196),n=o(53),r=o(46),a=o(94),s=o(54),l=o(111),d=o(90),c=o(112),u=o(101),h=o(121),p=o(49),f=Object(p.m)(),g=r.d,y=r.c,m=function(){function t(){this._dragging=!1,this.animationThreshold=15}return t.prototype.render=function(t,e,o,i){var n=e.get("value"),s=e.get("status");if(this._axisModel=t,this._axisPointerModel=e,this._api=o,i||this._lastValue!==n||this._lastStatus!==s){this._lastValue=n,this._lastStatus=s;var l=this._group,d=this._handle;if(!s||"hide"===s)return l&&l.hide(),void(d&&d.hide());l&&l.show(),d&&d.show();var c={};this.makeElOption(c,n,t,e,o);var u=c.graphicKey;u!==this._lastGraphicKey&&this.clear(o),this._lastGraphicKey=u;var h=this._moveAnimation=this.determineAnimation(t,e);if(l){var p=r.i(v,e,h);this.updatePointerEl(l,c,p),this.updateLabelEl(l,c,p,e)}else l=this._group=new a.a,this.createPointerEl(l,c,t,e),this.createLabelEl(l,c,t,e),o.getZr().add(l);w(l,e,!0),this._renderHandle(n)}},t.prototype.remove=function(t){this.clear(t)},t.prototype.dispose=function(t){this.clear(t)},t.prototype.determineAnimation=function(t,e){var o=e.get("animation"),i=t.axis,n="category"===i.type,r=e.get("snap");if(!r&&!n)return!1;if("auto"===o||null==o){var a=this.animationThreshold;if(n&&i.getBandWidth()>a)return!0;if(r){var s=c.c(t).seriesDataCount,l=i.getExtent();return Math.abs(l[0]-l[1])/s>a}return!1}return!0===o},t.prototype.makeElOption=function(t,e,o,i,n){},t.prototype.createPointerEl=function(t,e,o,i){var n=e.pointer;if(n){var r=f(t).pointerEl=new s[n.type](g(e.pointer));t.add(r)}},t.prototype.createLabelEl=function(t,e,o,i){if(e.label){var n=f(t).labelEl=new l.a(g(e.label));t.add(n),b(n,i)}},t.prototype.updatePointerEl=function(t,e,o){var i=f(t).pointerEl;i&&e.pointer&&(i.setStyle(e.pointer.style),o(i,{shape:e.pointer.shape}))},t.prototype.updateLabelEl=function(t,e,o,i){var n=f(t).labelEl;n&&(n.setStyle(e.label.style),o(n,{x:e.label.x,y:e.label.y}),b(n,i))},t.prototype._renderHandle=function(t){if(!this._dragging&&this.updateHandleTransform){var e,o=this._axisPointerModel,i=this._api.getZr(),n=this._handle,a=o.getModel("handle"),l=o.get("status");if(!a.get("show")||!l||"hide"===l)return n&&i.remove(n),void(this._handle=null);this._handle||(e=!0,n=this._handle=s.createIcon(a.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(t){u.g(t.event)},onmousedown:y(this._onHandleDragMove,this,0,0),drift:y(this._onHandleDragMove,this),ondragend:y(this._onHandleDragEnd,this)}),i.add(n)),w(n,o,!1),n.setStyle(a.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var d=a.get("size");r.s(d)||(d=[d,d]),n.scaleX=d[0]/2,n.scaleY=d[1]/2,h.a(this,"_doDispatchAxisPointer",a.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,e)}},t.prototype._moveHandleToValue=function(t,e){v(this._axisPointerModel,!e&&this._moveAnimation,this._handle,_(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},t.prototype._onHandleDragMove=function(t,e){var o=this._handle;if(o){this._dragging=!0;var i=this.updateHandleTransform(_(o),[t,e],this._axisModel,this._axisPointerModel);this._payloadInfo=i,o.stopAnimation(),o.attr(_(i)),f(o).lastProp=null,this._doDispatchAxisPointer()}},t.prototype._doDispatchAxisPointer=function(){if(this._handle){var t=this._payloadInfo,e=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:e.axis.dim,axisIndex:e.componentIndex}]})}},t.prototype._onHandleDragEnd=function(){if(this._dragging=!1,this._handle){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},t.prototype.clear=function(t){this._lastValue=null,this._lastStatus=null;var e=t.getZr(),o=this._group,i=this._handle;e&&o&&(this._lastGraphicKey=null,o&&e.remove(o),i&&e.remove(i),this._group=null,this._handle=null,this._payloadInfo=null)},t.prototype.doClear=function(){},t.prototype.buildLabel=function(t,e,o){return{x:t[o=o||0],y:t[1-o],width:e[o],height:e[1-o]}},t}();function v(t,e,o,i){x(f(o).lastProp,i)||(f(o).lastProp=i,e?d.h(o,i,t):(o.stopAnimation(),o.attr(i)))}function x(t,e){if(r.z(t)&&r.z(e)){var o=!0;return r.k(e,(function(e,i){o=o&&x(t[i],e)})),!!o}return t===e}function b(t,e){t[e.get(["label","show"])?"show":"hide"]()}function _(t){return{x:t.x||0,y:t.y||0,rotation:t.rotation||0}}function w(t,e,o){var i=e.get("z"),n=e.get("zlevel");t&&t.traverse((function(t){"group"!==t.type&&(null!=i&&(t.z=i),null!=n&&(t.zlevel=n),t.silent=o)}))}var S=m,I=o(171),O=o(173),T=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(n.b)(e,t),e.prototype.makeElOption=function(t,e,o,i,n){var r=o.axis,a=r.grid,s=i.get("type"),l=C(a,r).getOtherAxis(r).getGlobalExtent(),d=r.toGlobalCoord(r.dataToCoord(e,!0));if(s&&"none"!==s){var c=I.b(i),u=M[s](r,d,l);u.style=c,t.graphicKey=u.type,t.pointer=u}var h=O.c(a.model,o);I.a(e,t,h,o,i,n)},e.prototype.getHandleTransform=function(t,e,o){var i=O.c(e.axis.grid.model,e,{labelInside:!1});i.labelMargin=o.get(["handle","margin"]);var n=I.c(e.axis,t,i);return{x:n[0],y:n[1],rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,e,o,i){var n=o.axis,r=n.grid,a=n.getGlobalExtent(!0),s=C(r,n).getOtherAxis(n).getGlobalExtent(),l="x"===n.dim?0:1,d=[t.x,t.y];d[l]+=e[l],d[l]=Math.min(a[1],d[l]),d[l]=Math.max(a[0],d[l]);var c=(s[1]+s[0])/2,u=[c,c];u[l]=d[l];return{x:d[0],y:d[1],rotation:t.rotation,cursorPoint:u,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][l]}},e}(S);function C(t,e){var o={};return o[e.dim+"AxisIndex"]=e.index,t.getCartesian(o)}var M={line:function(t,e,o){return{type:"Line",subPixelOptimize:!0,shape:I.e([e,o[0]],[e,o[1]],A(t))}},shadow:function(t,e,o){var i=Math.max(1,t.getBandWidth()),n=o[1]-o[0];return{type:"Rect",shape:I.f([e-i/2,o[0]],[i,n],A(t))}}};function A(t){return"x"===t.dim?0:1}var j=T,D=function(t){function e(){var o=null!==t&&t.apply(this,arguments)||this;return o.type=e.type,o}return Object(n.b)(e,t),e.type="axisPointer",e.defaultOption={show:"auto",zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},e}(o(81).a),k=D,P=o(174),L=function(t){function e(){var o=null!==t&&t.apply(this,arguments)||this;return o.type=e.type,o}return Object(n.b)(e,t),e.prototype.render=function(t,e,o){var i=e.getComponent("tooltip"),n=t.get("triggerOn")||i&&i.get("triggerOn")||"mousemove|click";P.a("axisPointer",o,(function(t,e,o){"none"!==n&&("leave"===t||n.indexOf(t)>=0)&&o({type:"updateAxisPointer",currTrigger:t,x:e&&e.offsetX,y:e&&e.offsetY})}))},e.prototype.remove=function(t,e){P.b("axisPointer",e)},e.prototype.dispose=function(t,e){P.b("axisPointer",e)},e.type="axisPointer",e}(o(84).a),N=L,z=o(175),B=Object(p.m)();function R(t,e,o){var i=t.currTrigger,n=[t.x,t.y],a=t,s=t.dispatchAction||Object(r.c)(o.dispatchAction,o),l=e.getComponent("axisPointer").coordSysAxesInfo;if(l){V(n)&&(n=Object(z.a)({seriesIndex:a.seriesIndex,dataIndex:a.dataIndex},e).point);var d=V(n),c=a.axesInfo,u=l.axesInfo,h="leave"===i||V(n),p={},f={},g={list:[],map:{}},y={showPointer:Object(r.i)(G,f),showTooltip:Object(r.i)(H,g)};Object(r.k)(l.coordSysMap,(function(t,e){var o=d||t.containPoint(n);Object(r.k)(l.coordSysAxesInfo[e],(function(t,e){var i=t.axis,r=function(t,e){for(var o=0;o<(t||[]).length;o++){var i=t[o];if(e.axis.dim===i.axisDim&&e.axis.model.componentIndex===i.axisIndex)return i}}(c,t);if(!h&&o&&(!c||r)){var a=r&&r.value;null!=a||d||(a=i.pointToData(n)),null!=a&&E(t,a,y,!1,p)}}))}));var m={};return Object(r.k)(u,(function(t,e){var o=t.linkGroup;o&&!f[e]&&Object(r.k)(o.axesInfo,(function(e,i){var n=f[i];if(e!==t&&n){var r=n.value;o.mapper&&(r=t.axis.scale.parse(o.mapper(r,Y(e),Y(t)))),m[t.key]=r}}))})),Object(r.k)(m,(function(t,e){E(u[e],t,y,!0,p)})),function(t,e,o){var i=o.axesInfo=[];Object(r.k)(e,(function(e,o){var n=e.axisPointerModel.option,r=t[o];r?(!e.useHandle&&(n.status="show"),n.value=r.value,n.seriesDataIndices=(r.payloadBatch||[]).slice()):!e.useHandle&&(n.status="hide"),"show"===n.status&&i.push({axisDim:e.axis.dim,axisIndex:e.axis.model.componentIndex,value:n.value})}))}(f,u,p),function(t,e,o,i){if(V(e)||!t.list.length)return void i({type:"hideTip"});var n=((t.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};i({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:o.tooltipOption,position:o.position,dataIndexInside:n.dataIndexInside,dataIndex:n.dataIndex,seriesIndex:n.seriesIndex,dataByCoordSys:t.list})}(g,n,t,s),function(t,e,o){var i=o.getZr(),n="axisPointerLastHighlights",a=B(i)[n]||{},s=B(i)[n]={};Object(r.k)(t,(function(t,e){var o=t.axisPointerModel.option;"show"===o.status&&Object(r.k)(o.seriesDataIndices,(function(t){var e=t.seriesIndex+" | "+t.dataIndex;s[e]=t}))}));var l=[],d=[];Object(r.k)(a,(function(t,e){!s[e]&&d.push(t)})),Object(r.k)(s,(function(t,e){!a[e]&&l.push(t)})),d.length&&o.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:d}),l.length&&o.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:l})}(u,0,o),p}}function E(t,e,o,i,n){var a=t.axis;if(!a.scale.isBlank()&&a.containData(e))if(t.involveSeries){var s=function(t,e){var o=e.axis,i=o.dim,n=t,a=[],s=Number.MAX_VALUE,l=-1;return Object(r.k)(e.seriesModels,(function(e,d){var c,u,h=e.getData().mapDimensionsAll(i);if(e.getAxisTooltipData){var p=e.getAxisTooltipData(h,t,o);u=p.dataIndices,c=p.nestestValue}else{if(!(u=e.getData().indicesOfNearest(h[0],t,"category"===o.type?.5:null)).length)return;c=e.getData().get(h[0],u[0])}if(null!=c&&isFinite(c)){var f=t-c,g=Math.abs(f);g<=s&&((g<s||f>=0&&l<0)&&(s=g,l=f,n=c,a.length=0),Object(r.k)(u,(function(t){a.push({seriesIndex:e.seriesIndex,dataIndexInside:t,dataIndex:e.getData().getRawIndex(t)})})))}})),{payloadBatch:a,snapToValue:n}}(e,t),l=s.payloadBatch,d=s.snapToValue;l[0]&&null==n.seriesIndex&&Object(r.m)(n,l[0]),!i&&t.snap&&a.containData(d)&&null!=d&&(e=d),o.showPointer(t,e,l),o.showTooltip(t,s,d)}else o.showPointer(t,e)}function G(t,e,o,i){t[e.key]={value:o,payloadBatch:i}}function H(t,e,o,i){var n=o.payloadBatch,r=e.axis,a=r.model,s=e.axisPointerModel;if(e.triggerTooltip&&n.length){var l=e.coordSys.model,d=c.e(l),u=t.map[d];u||(u=t.map[d]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},t.list.push(u)),u.dataByAxis.push({axisDim:r.dim,axisIndex:a.componentIndex,axisType:a.type,axisId:a.id,value:i,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:n.slice()})}}function Y(t){var e=t.axis.model,o={},i=o.axisDim=t.axis.dim;return o.axisIndex=o[i+"AxisIndex"]=e.componentIndex,o.axisName=o[i+"AxisName"]=e.name,o.axisId=o[i+"AxisId"]=e.id,o}function V(t){return!t||null==t[0]||isNaN(t[0])||null==t[1]||isNaN(t[1])}function X(t){i.a.registerAxisPointerClass("CartesianAxisPointer",j),t.registerComponentModel(k),t.registerComponentView(N),t.registerPreprocessor((function(t){if(t){(!t.axisPointer||0===t.axisPointer.length)&&(t.axisPointer={});var e=t.axisPointer.link;e&&!Object(r.s)(e)&&(t.axisPointer.link=[e])}})),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,(function(t,e){t.getComponent("axisPointer").coordSysAxesInfo=Object(c.a)(t,e)})),t.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},R)}},256:function(t,e,o){"use strict";o.d(e,"b",(function(){return r})),o.d(e,"a",(function(){return a}));var i=o(107),n=o(46);function r(t,e){var o=t.mapDimensionsAll("defaultedLabel"),n=o.length;if(1===n){var r=Object(i.e)(t,e,o[0]);return null!=r?r+"":null}if(n){for(var a=[],s=0;s<o.length;s++)a.push(Object(i.e)(t,e,o[s]));return a.join(" ")}}function a(t,e){var o=t.mapDimensionsAll("defaultedLabel");if(!Object(n.s)(e))return e+"";for(var i=[],r=0;r<o.length;r++){var a=t.getDimensionIndex(o[r]);a>=0&&i.push(e[a])}return i.join(" ")}},267:function(t,e,o){"use strict";o.d(e,"a",(function(){return a})),o.d(e,"b",(function(){return s}));var i=o(78),n=o(75),r=o(118);function a(t,e,o){var n=e.getBoxLayoutParams(),r=e.get("padding"),a={width:o.getWidth(),height:o.getHeight()},s=Object(i.d)(n,a,r);Object(i.a)(e.get("orient"),t,e.get("itemGap"),s.width,s.height),Object(i.f)(t,n,a,r)}function s(t,e){var o=n.g(e.get("padding")),i=e.getItemStyle(["color","opacity"]);return i.fill=e.get("backgroundColor"),t=new r.a({shape:{x:t.x-o[3],y:t.y-o[0],width:t.width+o[1]+o[3],height:t.height+o[0]+o[2],r:e.get("borderRadius")},style:i,silent:!0,z2:-1})}},315:function(t,e,o){"use strict";var i=o(53),n=o(122),r=o(90),a=o(94),s=o(79),l=o(91),d=o(256),c=o(46),u=o(89),h=o(100),p=function(t){function e(e,o,i,n){var r=t.call(this)||this;return r.updateData(e,o,i,n),r}return Object(i.b)(e,t),e.prototype._createSymbol=function(t,e,o,i,r){this.removeAll();var a=Object(n.a)(t,-1,-1,2,2,null,r);a.attr({z2:100,culling:!0,scaleX:i[0]/2,scaleY:i[1]/2}),a.drift=f,this._symbolType=t,this.add(a)},e.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)},e.prototype.getSymbolType=function(){return this._symbolType},e.prototype.getSymbolPath=function(){return this.childAt(0)},e.prototype.highlight=function(){Object(l.o)(this.childAt(0))},e.prototype.downplay=function(){Object(l.z)(this.childAt(0))},e.prototype.setZ=function(t,e){var o=this.childAt(0);o.zlevel=t,o.z=e},e.prototype.setDraggable=function(t){var e=this.childAt(0);e.draggable=t,e.cursor=t?"move":e.cursor},e.prototype.updateData=function(t,o,i,n){this.silent=!1;var a=t.getItemVisual(o,"symbol")||"circle",s=t.hostModel,l=e.getSymbolSize(t,o),d=a!==this._symbolType,c=n&&n.disableAnimation;if(d){var u=t.getItemVisual(o,"symbolKeepAspect");this._createSymbol(a,t,o,l,u)}else{(p=this.childAt(0)).silent=!1;var h={scaleX:l[0]/2,scaleY:l[1]/2};c?p.attr(h):r.h(p,h,s,o),Object(r.g)(p)}if(this._updateCommon(t,o,l,i,n),d){var p=this.childAt(0);if(!c){h={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:p.style.opacity}};p.scaleX=p.scaleY=0,p.style.opacity=0,r.c(p,h,s,o)}}c&&this.childAt(0).stopAnimation("remove"),this._seriesModel=s},e.prototype._updateCommon=function(t,e,o,i,r){var a,s,p,f,g,y,m,v,x=this.childAt(0),b=t.hostModel;if(i&&(a=i.emphasisItemStyle,s=i.blurItemStyle,p=i.selectItemStyle,f=i.focus,g=i.blurScope,y=i.labelStatesModels,m=i.hoverScale,v=i.cursorStyle),!i||t.hasItemOption){var _=i&&i.itemModel?i.itemModel:t.getItemModel(e),w=_.getModel("emphasis");a=w.getModel("itemStyle").getItemStyle(),p=_.getModel(["select","itemStyle"]).getItemStyle(),s=_.getModel(["blur","itemStyle"]).getItemStyle(),f=w.get("focus"),g=w.get("blurScope"),y=Object(u.d)(_),m=w.getShallow("scale"),v=_.getShallow("cursor")}var S=t.getItemVisual(e,"symbolRotate");x.attr("rotation",(S||0)*Math.PI/180||0);var I=Object(n.b)(t.getItemVisual(e,"symbolOffset"),o);I&&(x.x=I[0],x.y=I[1]),v&&x.attr("cursor",v);var O=t.getItemVisual(e,"style"),T=O.fill;if(x instanceof h.a){var C=x.style;x.useStyle(Object(c.m)({image:C.image,x:C.x,y:C.y,width:C.width,height:C.height},O))}else x.__isEmptyBrush?x.useStyle(Object(c.m)({},O)):x.useStyle(O),x.style.decal=null,x.setColor(T,r&&r.symbolInnerColor),x.style.strokeNoScale=!0;var M=t.getItemVisual(e,"liftZ"),A=this._z2;null!=M?null==A&&(this._z2=x.z2,x.z2+=M):null!=A&&(x.z2=A,this._z2=null);var j=r&&r.useNameLabel;Object(u.f)(x,y,{labelFetcher:b,labelDataIndex:e,defaultText:function(e){return j?t.getName(e):Object(d.b)(t,e)},inheritColor:T,defaultOpacity:O.opacity}),this._sizeX=o[0]/2,this._sizeY=o[1]/2;var D=x.ensureState("emphasis");if(D.style=a,x.ensureState("select").style=p,x.ensureState("blur").style=s,m){var k=Math.max(1.1,3/this._sizeY);D.scaleX=this._sizeX*k,D.scaleY=this._sizeY*k}this.setSymbolScale(1),Object(l.m)(this,f,g)},e.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t},e.prototype.fadeOut=function(t,e){var o=this.childAt(0),i=this._seriesModel,n=Object(s.a)(this).dataIndex,a=e&&e.animation;if(this.silent=o.silent=!0,e&&e.fadeLabel){var l=o.getTextContent();l&&r.e(l,{style:{opacity:0}},i,{dataIndex:n,removeOpt:a,cb:function(){o.removeTextContent()}})}else o.removeTextContent();r.e(o,{style:{opacity:0},scaleX:0,scaleY:0},i,{dataIndex:n,cb:t,removeOpt:a})},e.getSymbolSize=function(t,e){return Object(n.c)(t.getItemVisual(e,"symbolSize"))},e}(a.a);function f(t,e){this.parent.drift(t,e)}e.a=p},349:function(t,e,o){"use strict";o.d(e,"c",(function(){return r})),o.d(e,"b",(function(){return a})),o.d(e,"a",(function(){return s}));var i=o(147),n="\0_ec_interaction_mutex";function r(t,e,o){l(t)[e]=o}function a(t,e,o){var i=l(t);i[e]===o&&(i[e]=null)}function s(t,e){return!!l(t)[e]}function l(t){return t[n]||(t[n]={})}i.c({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},(function(){}))},350:function(t,e,o){"use strict";o.d(e,"a",(function(){return n}));var i={axisPointer:1,tooltip:1,brush:1};function n(t,e,o){var n=e.getComponentByElement(t.topTarget),r=n&&n.coordinateSystem;return n&&n!==o&&!i.hasOwnProperty(n.mainType)&&r&&r.model!==o}},365:function(t,e,o){"use strict";o.d(e,"a",(function(){return it}));var i=o(217),n=o(110),r=o(53),a=function(t){function e(){var o=null!==t&&t.apply(this,arguments)||this;return o.type=e.type,o}return Object(r.b)(e,t),e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={zlevel:0,z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},e}(o(81).a),s=a,l=o(46),d=o(66),c=o(85),u=o(101),h=o(220),p=o(75);function f(t){var e=t.get("confine");return null!=e?!!e:"richText"===t.get("renderMode")}function g(t){if(d.a.domSupported)for(var e=document.documentElement.style,o=0,i=t.length;o<i;o++)if(t[o]in e)return t[o]}var y=g(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),m=g(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function v(t,e){if(!t)return e;e=Object(p.h)(e,!0);var o=t.indexOf(e);return(t=-1===o?e:"-"+t.slice(0,o)+"-"+e).toLowerCase()}var x=o(116),b=v(m,"transition"),_=v(y,"transform"),w="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(d.a.transform3dSupported?"will-change:transform;":"");function S(t,e,o){var i=t.toFixed(0)+"px",n=e.toFixed(0)+"px";if(!d.a.transformSupported)return o?"top:"+n+";left:"+i+";":[["top",n],["left",i]];var r=d.a.transform3dSupported,a="translate"+(r?"3d":"")+"("+i+","+n+(r?",0":"")+")";return o?"top:0;left:0;"+_+":"+a+";":[["top",0],["left",0],[y,a]]}function I(t,e,o){var i=[],n=t.get("transitionDuration"),r=t.get("backgroundColor"),a=t.get("shadowBlur"),s=t.get("shadowColor"),u=t.get("shadowOffsetX"),h=t.get("shadowOffsetY"),f=t.getModel("textStyle"),g=Object(x.d)(t,"html"),y=u+"px "+h+"px "+a+"px "+s;return i.push("box-shadow:"+y),e&&n&&i.push(function(t,e){var o="cubic-bezier(0.23,1,0.32,1)",i=" "+t/2+"s "+o,n="opacity"+i+",visibility"+i;return e||(i=" "+t+"s "+o,n+=d.a.transformSupported?","+_+i:",left"+i+",top"+i),b+":"+n}(n,o)),r&&(d.a.canvasSupported?i.push("background-color:"+r):(i.push("background-color:#"+Object(c.toHex)(r)),i.push("filter:alpha(opacity=70)"))),Object(l.k)(["width","color","radius"],(function(e){var o="border-"+e,n=Object(p.h)(o),r=t.get(n);null!=r&&i.push(o+":"+r+("color"===e?"":"px"))})),i.push(function(t){var e=[],o=t.get("fontSize"),i=t.getTextColor();i&&e.push("color:"+i),e.push("font:"+t.getFont()),o&&e.push("line-height:"+Math.round(3*o/2)+"px");var n=t.get("textShadowColor"),r=t.get("textShadowBlur")||0,a=t.get("textShadowOffsetX")||0,s=t.get("textShadowOffsetY")||0;return n&&r&&e.push("text-shadow:"+a+"px "+s+"px "+r+"px "+n),Object(l.k)(["decoration","align"],(function(o){var i=t.get(o);i&&e.push("text-"+o+":"+i)})),e.join(";")}(f)),null!=g&&i.push("padding:"+Object(p.g)(g).join("px ")+"px"),i.join(";")+";"}function O(t,e,o,i,n){var r=e&&e.painter;if(o){var a=r&&r.getViewportRoot();a&&Object(h.c)(t,a,document.body,i,n)}else{t[0]=i,t[1]=n;var s=r&&r.getViewportRootOffset();s&&(t[0]+=s.offsetLeft,t[1]+=s.offsetTop)}t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}var T=function(){function t(t,e,o){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._firstShow=!0,this._longHide=!0,d.a.wxa)return null;var i=document.createElement("div");i.domBelongToZr=!0,this.el=i;var n=this._zr=e.getZr(),r=this._appendToBody=o&&o.appendToBody;O(this._styleCoord,n,r,e.getWidth()/2,e.getHeight()/2),r?document.body.appendChild(i):t.appendChild(i),this._container=t;var a=this;i.onmouseenter=function(){a._enterable&&(clearTimeout(a._hideTimeout),a._show=!0),a._inContent=!0},i.onmousemove=function(t){if(t=t||window.event,!a._enterable){var e=n.handler,o=n.painter.getViewportRoot();Object(u.e)(o,t,!0),e.dispatch("mousemove",t)}},i.onmouseleave=function(){a._inContent=!1,a._enterable&&a._show&&a.hideLater(a._hideDelay)}}return t.prototype.update=function(t){var e=this._container,o=function(t,e){var o=t.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(t);return o?e?o[e]:o:null}(e,"position"),i=e.style;"absolute"!==i.position&&"absolute"!==o&&(i.position="relative"),t.get("alwaysShowContent")&&this._moveIfResized(),this.el.className=t.get("className")||""},t.prototype.show=function(t,e){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var o=this.el,i=o.style,n=this._styleCoord;o.innerHTML?i.cssText=w+I(t,!this._firstShow,this._longHide)+S(n[0],n[1],!0)+"border-color:"+Object(p.b)(e)+";"+(t.get("extraCssText")||"")+";pointer-events:"+(this._enterable?"auto":"none"):i.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},t.prototype.setContent=function(t,e,o,i,n){var r=this.el;if(null!=t){var a="";if(Object(l.A)(n)&&"item"===o.get("trigger")&&!f(o)&&(a=function(t,e,o){if(!Object(l.A)(o)||"inside"===o)return"";var i=t.get("backgroundColor"),n=t.get("borderWidth");e=Object(p.b)(e);var r,a,s="left"===(r=o)?"right":"right"===r?"left":"top"===r?"bottom":"top",d=Math.max(1.5*Math.round(n),6),c="",u=_+":";Object(l.q)(["left","right"],s)>-1?(c+="top:50%",u+="translateY(-50%) rotate("+(a="left"===s?-225:-45)+"deg)"):(c+="left:50%",u+="translateX(-50%) rotate("+(a="top"===s?225:45)+"deg)");var h=a*Math.PI/180,f=d+n,g=f*Math.abs(Math.cos(h))+f*Math.abs(Math.sin(h)),y=e+" solid "+n+"px;";return'<div style="'+["position:absolute;width:"+d+"px;height:"+d+"px;",(c+=";"+s+":-"+Math.round(100*((g-Math.SQRT2*n)/2+Math.SQRT2*n-(g-f)/2))/100+"px")+";"+u+";","border-bottom:"+y,"border-right:"+y,"background-color:"+i+";"].join("")+'"></div>'}(o,i,n)),Object(l.A)(t))r.innerHTML=t+a;else if(t){r.innerHTML="",Object(l.s)(t)||(t=[t]);for(var s=0;s<t.length;s++)Object(l.u)(t[s])&&t[s].parentNode!==r&&r.appendChild(t[s]);if(a&&r.childNodes.length){var d=document.createElement("div");d.innerHTML=a,r.appendChild(d)}}}else r.innerHTML=""},t.prototype.setEnterable=function(t){this._enterable=t},t.prototype.getSize=function(){var t=this.el;return[t.offsetWidth,t.offsetHeight]},t.prototype.moveTo=function(t,e){var o=this._styleCoord;if(O(o,this._zr,this._appendToBody,t,e),null!=o[0]&&null!=o[1]){var i=this.el.style,n=S(o[0],o[1]);Object(l.k)(n,(function(t){i[t[0]]=t[1]}))}},t.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},t.prototype.hide=function(){var t=this,e=this.el.style;e.visibility="hidden",e.opacity="0",d.a.transform3dSupported&&(e.willChange=""),this._show=!1,this._longHideTimeout=setTimeout((function(){return t._longHide=!0}),500)},t.prototype.hideLater=function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(Object(l.c)(this.hide,this),t)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},t}(),C=o(111),M=o(67);function A(t){return Math.max(0,t)}function j(t){var e=A(t.shadowBlur||0),o=A(t.shadowOffsetX||0),i=A(t.shadowOffsetY||0);return{left:A(e-o),right:A(e+o),top:A(e-i),bottom:A(e+i)}}function D(t,e,o,i){t[0]=o,t[1]=i,t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}var k=function(){function t(t){this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._zr=t.getZr(),D(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}return t.prototype.update=function(t){t.get("alwaysShowContent")&&this._moveIfResized()},t.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},t.prototype.setContent=function(t,e,o,i,n){l.z(t)&&Object(M.c)(""),this.el&&this._zr.remove(this.el);var r=o.getModel("textStyle");this.el=new C.a({style:{rich:e.richTextStyles,text:t,lineHeight:22,backgroundColor:o.get("backgroundColor"),borderRadius:o.get("borderRadius"),borderWidth:1,borderColor:i,shadowColor:o.get("shadowColor"),shadowBlur:o.get("shadowBlur"),shadowOffsetX:o.get("shadowOffsetX"),shadowOffsetY:o.get("shadowOffsetY"),textShadowColor:r.get("textShadowColor"),textShadowBlur:r.get("textShadowBlur")||0,textShadowOffsetX:r.get("textShadowOffsetX")||0,textShadowOffsetY:r.get("textShadowOffsetY")||0,fill:o.get(["textStyle","color"]),padding:Object(x.d)(o,"richText"),verticalAlign:"top",align:"left"},z:o.get("z")}),this._zr.add(this.el);var a=this;this.el.on("mouseover",(function(){a._enterable&&(clearTimeout(a._hideTimeout),a._show=!0),a._inContent=!0})),this.el.on("mouseout",(function(){a._enterable&&a._show&&a.hideLater(a._hideDelay),a._inContent=!1}))},t.prototype.setEnterable=function(t){this._enterable=t},t.prototype.getSize=function(){var t=this.el,e=this.el.getBoundingRect(),o=j(t.style);return[e.width+o.left+o.right,e.height+o.top+o.bottom]},t.prototype.moveTo=function(t,e){var o=this.el;if(o){var i=this._styleCoord;D(i,this._zr,t,e),t=i[0],e=i[1];var n=o.style,r=A(n.borderWidth||0),a=j(n);o.x=t+r+a.left,o.y=e+r+a.top,o.markRedraw()}},t.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},t.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},t.prototype.hideLater=function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(l.c(this.hide,this),t)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.dispose=function(){this._zr.remove(this.el)},t}(),P=o(56),L=o(118),N=o(175),z=o(78),B=o(72),R=o(174),E=o(103),G=o(171),H=o(49),Y=o(84),V=o(151),X=o(79),W=o(194),Z=o(192),F=o(121),U=l.c,K=l.k,q=P.p,Q=new L.a({shape:{x:-1,y:-1,width:2,height:2}}),J=function(t){function e(){var o=null!==t&&t.apply(this,arguments)||this;return o.type=e.type,o}return Object(r.b)(e,t),e.prototype.init=function(t,e){if(!d.a.node){var o=t.getComponent("tooltip"),i=o.get("renderMode");this._renderMode=Object(H.h)(i),this._tooltipContent="richText"===this._renderMode?new k(e):new T(e.getDom(),e,{appendToBody:o.get("appendToBody",!0)})}},e.prototype.render=function(t,e,o){if(!d.a.node){this.group.removeAll(),this._tooltipModel=t,this._ecModel=e,this._api=o,this._alwaysShowContent=t.get("alwaysShowContent");var i=this._tooltipContent;i.update(t),i.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow(),this._updatePosition="html"===this._renderMode?Object(F.b)(U(this._doUpdatePosition,this),50):this._doUpdatePosition}},e.prototype._initGlobalListener=function(){var t=this._tooltipModel.get("triggerOn");R.a("itemTooltip",this._api,U((function(e,o,i){"none"!==t&&(t.indexOf(e)>=0?this._tryShow(o,i):"leave"===e&&this._hide(i))}),this))},e.prototype._keepShow=function(){var t=this._tooltipModel,e=this._ecModel,o=this._api;if(null!=this._lastX&&null!=this._lastY&&"none"!==t.get("triggerOn")){var i=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout((function(){!o.isDisposed()&&i.manuallyShowTip(t,e,o,{x:i._lastX,y:i._lastY,dataByCoordSys:i._lastDataByCoordSys})}))}},e.prototype.manuallyShowTip=function(t,e,o,i){if(i.from!==this.uid&&!d.a.node){var n=tt(i,o);this._ticket="";var r=i.dataByCoordSys,a=function(t,e,o){var i=Object(H.r)(t).queryOptionMap,n=i.keys()[0];if(!n||"series"===n)return;var r,a=Object(H.t)(e,n,i.get(n),{useDefault:!1,enableAll:!1,enableNone:!1}).models[0];if(!a)return;if(o.getViewOfComponentModel(a).group.traverse((function(e){var o=Object(X.a)(e).tooltipConfig;if(o&&o.name===t.name)return r=e,!0})),r)return{componentMainType:n,componentIndex:a.componentIndex,el:r}}(i,e,o);if(a){var s=a.el.getBoundingRect().clone();s.applyTransform(a.el.transform),this._tryShow({offsetX:s.x+s.width/2,offsetY:s.y+s.height/2,target:a.el,position:i.position,positionDefault:"bottom"},n)}else if(i.tooltip&&null!=i.x&&null!=i.y){var l=Q;l.x=i.x,l.y=i.y,l.update(),Object(X.a)(l).tooltipConfig={name:null,option:i.tooltip},this._tryShow({offsetX:i.x,offsetY:i.y,target:l},n)}else if(r)this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,dataByCoordSys:r,tooltipOption:i.tooltipOption},n);else if(null!=i.seriesIndex){if(this._manuallyAxisShowTip(t,e,o,i))return;var c=Object(N.a)(i,e),u=c.point[0],h=c.point[1];null!=u&&null!=h&&this._tryShow({offsetX:u,offsetY:h,target:c.el,position:i.position,positionDefault:"bottom"},n)}else null!=i.x&&null!=i.y&&(o.dispatchAction({type:"updateAxisPointer",x:i.x,y:i.y}),this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,target:o.getZr().findHover(i.x,i.y).target},n))}},e.prototype.manuallyHideTip=function(t,e,o,i){var n=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&n.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,i.from!==this.uid&&this._hide(tt(i,o))},e.prototype._manuallyAxisShowTip=function(t,e,o,i){var n=i.seriesIndex,r=i.dataIndex,a=e.getComponent("axisPointer").coordSysAxesInfo;if(null!=n&&null!=r&&null!=a){var s=e.getSeriesByIndex(n);if(s)if("axis"===$([s.getData().getItemModel(r),s,(s.coordinateSystem||{}).model],this._tooltipModel).get("trigger"))return o.dispatchAction({type:"updateAxisPointer",seriesIndex:n,dataIndex:r,position:i.position}),!0}},e.prototype._tryShow=function(t,e){var o=t.target;if(this._tooltipModel){this._lastX=t.offsetX,this._lastY=t.offsetY;var i=t.dataByCoordSys;if(i&&i.length)this._showAxisTooltip(i,t);else if(o){var n,r;this._lastDataByCoordSys=null,Object(Z.a)(o,(function(t){return null!=Object(X.a)(t).dataIndex?(n=t,!0):null!=Object(X.a)(t).tooltipConfig?(r=t,!0):void 0}),!0),n?this._showSeriesItemTooltip(t,n,e):r?this._showComponentItemTooltip(t,r,e):this._hide(e)}else this._lastDataByCoordSys=null,this._hide(e)}},e.prototype._showOrMove=function(t,e){var o=t.get("showDelay");e=l.c(e,this),clearTimeout(this._showTimout),o>0?this._showTimout=setTimeout(e,o):e()},e.prototype._showAxisTooltip=function(t,e){var o=this._ecModel,i=this._tooltipModel,n=[e.offsetX,e.offsetY],r=$([e.tooltipOption],i),a=this._renderMode,s=[],d=Object(x.c)("section",{blocks:[],noHeader:!0}),c=[],u=new x.a;K(t,(function(t){K(t.dataByAxis,(function(t){var e=o.getComponent(t.axisDim+"Axis",t.axisIndex),i=t.value;if(e&&null!=i){var n=G.d(i,e.axis,o,t.seriesDataIndices,t.valueLabelOpt),r=Object(x.c)("section",{header:n,noHeader:!l.Q(n),sortBlocks:!0,blocks:[]});d.blocks.push(r),l.k(t.seriesDataIndices,(function(l){var d=o.getSeriesByIndex(l.seriesIndex),h=l.dataIndexInside,f=d.getDataParams(h);if(!(f.dataIndex<0)){f.axisDim=t.axisDim,f.axisIndex=t.axisIndex,f.axisType=t.axisType,f.axisId=t.axisId,f.axisValue=E.c(e.axis,{value:i}),f.axisValueLabel=n,f.marker=u.makeTooltipMarker("item",p.b(f.color),a);var g=Object(W.b)(d.formatTooltip(h,!0,null));g.markupFragment&&r.blocks.push(g.markupFragment),g.markupText&&c.push(g.markupText),s.push(f)}}))}}))})),d.blocks.reverse(),c.reverse();var h=e.position,f=r.get("order"),g=Object(x.b)(d,u,a,f,o.get("useUTC"),r.get("textStyle"));g&&c.unshift(g);var y="richText"===a?"\n\n":"<br/>",m=c.join(y);this._showOrMove(r,(function(){this._updateContentNotChangedOnAxis(t,s)?this._updatePosition(r,h,n[0],n[1],this._tooltipContent,s):this._showTooltipContent(r,m,s,Math.random()+"",n[0],n[1],h,null,u)}))},e.prototype._showSeriesItemTooltip=function(t,e,o){var i=this._ecModel,n=Object(X.a)(e),r=n.seriesIndex,a=i.getSeriesByIndex(r),s=n.dataModel||a,l=n.dataIndex,d=n.dataType,c=s.getData(d),u=this._renderMode,h=t.positionDefault,f=$([c.getItemModel(l),s,a&&(a.coordinateSystem||{}).model],this._tooltipModel,h?{position:h}:null),g=f.get("trigger");if(null==g||"item"===g){var y=s.getDataParams(l,d),m=new x.a;y.marker=m.makeTooltipMarker("item",p.b(y.color),u);var v=Object(W.b)(s.formatTooltip(l,!1,d)),b=f.get("order"),_=v.markupFragment?Object(x.b)(v.markupFragment,m,u,b,i.get("useUTC"),f.get("textStyle")):v.markupText,w="item_"+s.name+"_"+l;this._showOrMove(f,(function(){this._showTooltipContent(f,_,y,w,t.offsetX,t.offsetY,t.position,t.target,m)})),o({type:"showTip",dataIndexInside:l,dataIndex:c.getRawIndex(l),seriesIndex:r,from:this.uid})}},e.prototype._showComponentItemTooltip=function(t,e,o){var i=Object(X.a)(e),n=i.tooltipConfig.option||{};if(l.A(n)){n={content:n,formatter:n}}var r=[n],a=this._ecModel.getComponent(i.componentMainType,i.componentIndex);a&&r.push(a),r.push({formatter:n.content});var s=t.positionDefault,d=$(r,this._tooltipModel,s?{position:s}:null),c=d.get("content"),u=Math.random()+"",h=new x.a;this._showOrMove(d,(function(){var o=l.d(d.get("formatterParams")||{});this._showTooltipContent(d,c,o,u,t.offsetX,t.offsetY,t.position,e,h)})),o({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(t,e,o,i,n,r,a,s,d){if(this._ticket="",t.get("showContent")&&t.get("show")){var c=this._tooltipContent,u=t.get("formatter");a=a||t.get("position");var h=e,f=this._getNearestPoint([n,r],o,t.get("trigger"),t.get("borderColor")).color;if(u)if(l.A(u)){var g=t.ecModel.get("useUTC"),y=l.s(o)?o[0]:o;h=u,y&&y.axisType&&y.axisType.indexOf("time")>=0&&(h=Object(V.h)(y.axisValue,h,g)),h=p.d(h,o,!0)}else if(l.v(u)){var m=U((function(e,i){e===this._ticket&&(c.setContent(i,d,t,f,a),this._updatePosition(t,a,n,r,c,o,s))}),this);this._ticket=i,h=u(o,i,m)}else h=u;c.setContent(h,d,t,f,a),c.show(t,f),this._updatePosition(t,a,n,r,c,o,s)}},e.prototype._getNearestPoint=function(t,e,o,i){return"axis"===o||l.s(e)?{color:i||("html"===this._renderMode?"#fff":"none")}:l.s(e)?void 0:{color:i||e.color||e.borderColor}},e.prototype._doUpdatePosition=function(t,e,o,i,n,r,a){var s=this._api.getWidth(),d=this._api.getHeight();e=e||t.get("position");var c=n.getSize(),u=t.get("align"),h=t.get("verticalAlign"),p=a&&a.getBoundingRect().clone();if(a&&p.applyTransform(a.transform),l.v(e)&&(e=e([o,i],r,n.el,p,{viewSize:[s,d],contentSize:c.slice()})),l.s(e))o=q(e[0],s),i=q(e[1],d);else if(l.z(e)){var g=e;g.width=c[0],g.height=c[1];var y=z.d(g,{width:s,height:d});o=y.x,i=y.y,u=null,h=null}else if(l.A(e)&&a){var m=function(t,e,o,i){var n=o[0],r=o[1],a=Math.ceil(Math.SQRT2*i)+8,s=0,l=0,d=e.width,c=e.height;switch(t){case"inside":s=e.x+d/2-n/2,l=e.y+c/2-r/2;break;case"top":s=e.x+d/2-n/2,l=e.y-r-a;break;case"bottom":s=e.x+d/2-n/2,l=e.y+c+a;break;case"left":s=e.x-n-a,l=e.y+c/2-r/2;break;case"right":s=e.x+d+a,l=e.y+c/2-r/2}return[s,l]}(e,p,c,t.get("borderWidth"));o=m[0],i=m[1]}else{m=function(t,e,o,i,n,r,a){var s=o.getSize(),l=s[0],d=s[1];null!=r&&(t+l+r+2>i?t-=l+r:t+=r);null!=a&&(e+d+a>n?e-=d+a:e+=a);return[t,e]}(o,i,n,s,d,u?null:20,h?null:20);o=m[0],i=m[1]}if(u&&(o-=et(u)?c[0]/2:"right"===u?c[0]:0),h&&(i-=et(h)?c[1]/2:"bottom"===h?c[1]:0),f(t)){m=function(t,e,o,i,n){var r=o.getSize(),a=r[0],s=r[1];return t=Math.min(t+a,i)-a,e=Math.min(e+s,n)-s,t=Math.max(t,0),e=Math.max(e,0),[t,e]}(o,i,n,s,d);o=m[0],i=m[1]}n.moveTo(o,i)},e.prototype._updateContentNotChangedOnAxis=function(t,e){var o=this._lastDataByCoordSys,i=this._cbParamsList,n=!!o&&o.length===t.length;return n&&K(o,(function(o,r){var a=o.dataByAxis||[],s=(t[r]||{}).dataByAxis||[];(n=n&&a.length===s.length)&&K(a,(function(t,o){var r=s[o]||{},a=t.seriesDataIndices||[],d=r.seriesDataIndices||[];(n=n&&t.value===r.value&&t.axisType===r.axisType&&t.axisId===r.axisId&&a.length===d.length)&&K(a,(function(t,e){var o=d[e];n=n&&t.seriesIndex===o.seriesIndex&&t.dataIndex===o.dataIndex})),i&&l.k(t.seriesDataIndices,(function(t){var o=t.seriesIndex,r=e[o],a=i[o];r&&a&&a.data!==r.data&&(n=!1)}))}))})),this._lastDataByCoordSys=t,this._cbParamsList=e,!!n},e.prototype._hide=function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},e.prototype.dispose=function(t,e){d.a.node||(this._tooltipContent.dispose(),R.b("itemTooltip",e))},e.type="tooltip",e}(Y.a);function $(t,e,o){var i,n=e.ecModel;o?(i=new B.a(o,n,n),i=new B.a(e.option,i,n)):i=e;for(var r=t.length-1;r>=0;r--){var a=t[r];a&&(a instanceof B.a&&(a=a.get("tooltip",!0)),l.A(a)&&(a={formatter:a}),a&&(i=new B.a(a,i,n)))}return i}function tt(t,e){return t.dispatchAction||l.c(e.dispatchAction,e)}function et(t){return"center"===t||"middle"===t}var ot=J;function it(t){Object(n.a)(i.a),t.registerComponentModel(s),t.registerComponentView(ot),t.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},(function(){})),t.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},(function(){}))}},403:function(t,e,o){"use strict";o.d(e,"a",(function(){return W}));var i=o(110),n=o(53),r=o(46),a=o(72),s=o(49),l=o(81),d=function(t){function e(){var o=null!==t&&t.apply(this,arguments)||this;return o.type=e.type,o.layoutMode={type:"box",ignoreSize:!0},o}return Object(n.b)(e,t),e.prototype.init=function(t,e,o){this.mergeDefaultAndTheme(t,o),t.selected=t.selected||{},this._updateSelector(t)},e.prototype.mergeOption=function(e,o){t.prototype.mergeOption.call(this,e,o),this._updateSelector(e)},e.prototype._updateSelector=function(t){var e=t.selector,o=this.ecModel;!0===e&&(e=t.selector=["all","inverse"]),r.s(e)&&r.k(e,(function(t,i){r.A(t)&&(t={type:t}),e[i]=r.G(t,function(t,e){return"all"===e?{type:"all",title:t.getLocaleModel().get(["legend","selector","all"])}:"inverse"===e?{type:"inverse",title:t.getLocaleModel().get(["legend","selector","inverse"])}:void 0}(o,t.type))}))},e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&"single"===this.get("selectedMode")){for(var e=!1,o=0;o<t.length;o++){var i=t[o].get("name");if(this.isSelected(i)){this.select(i),e=!0;break}}!e&&this.select(t[0].get("name"))}},e.prototype._updateData=function(t){var e=[],o=[];t.eachRawSeries((function(i){var n,r=i.name;if(o.push(r),i.legendVisualProvider){var a=i.legendVisualProvider.getAllNames();t.isSeriesFiltered(i)||(o=o.concat(a)),a.length?e=e.concat(a):n=!0}else n=!0;n&&Object(s.l)(i)&&e.push(i.name)})),this._availableNames=o;var i=this.get("data")||e,n=r.F(i,(function(t){return"string"!==typeof t&&"number"!==typeof t||(t={name:t}),new a.a(t,this,this.ecModel)}),this);this._data=n},e.prototype.getData=function(){return this._data},e.prototype.select=function(t){var e=this.option.selected;if("single"===this.get("selectedMode")){var o=this._data;r.k(o,(function(t){e[t.get("name")]=!1}))}e[t]=!0},e.prototype.unSelect=function(t){"single"!==this.get("selectedMode")&&(this.option.selected[t]=!1)},e.prototype.toggleSelected=function(t){var e=this.option.selected;e.hasOwnProperty(t)||(e[t]=!0),this[e[t]?"unSelect":"select"](t)},e.prototype.allSelect=function(){var t=this._data,e=this.option.selected;r.k(t,(function(t){e[t.get("name",!0)]=!0}))},e.prototype.inverseSelect=function(){var t=this._data,e=this.option.selected;r.k(t,(function(t){var o=t.get("name",!0);e.hasOwnProperty(o)||(e[o]=!0),e[o]=!e[o]}))},e.prototype.isSelected=function(t){var e=this.option.selected;return!(e.hasOwnProperty(t)&&!e[t])&&r.q(this._availableNames,t)>=0},e.prototype.getOrient=function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},e.type="legend.plain",e.dependencies=["series"],e.defaultOption={zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},e}(l.a),c=d,u=o(85),h=o(94),p=o(111),f=o(118),g=o(54),y=o(91),m=o(89),v=o(267),x=o(78),b=o(84),_=o(122),w=r.i,S=r.k,I=h.a,O=function(t){function e(){var o=null!==t&&t.apply(this,arguments)||this;return o.type=e.type,o.newlineDisabled=!1,o}return Object(n.b)(e,t),e.prototype.init=function(){this.group.add(this._contentGroup=new I),this.group.add(this._selectorGroup=new I),this._isFirstRender=!0},e.prototype.getContentGroup=function(){return this._contentGroup},e.prototype.getSelectorGroup=function(){return this._selectorGroup},e.prototype.render=function(t,e,o){var i=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),t.get("show",!0)){var n=t.get("align"),a=t.get("orient");n&&"auto"!==n||(n="right"===t.get("left")&&"vertical"===a?"right":"left");var s=t.get("selector",!0),l=t.get("selectorPosition",!0);!s||l&&"auto"!==l||(l="horizontal"===a?"end":"start"),this.renderInner(n,t,e,o,s,a,l);var d=t.getBoxLayoutParams(),c={width:o.getWidth(),height:o.getHeight()},u=t.get("padding"),h=x.d(d,c,u),p=this.layoutInner(t,n,h,i,s,l),f=x.d(r.j({width:p.width,height:p.height},d),c,u);this.group.x=f.x-p.x,this.group.y=f.y-p.y,this.group.markRedraw(),this.group.add(this._backgroundEl=Object(v.b)(p,t))}},e.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},e.prototype.renderInner=function(t,e,o,i,n,a,s){var l=this.getContentGroup(),d=r.g(),c=e.get("selectedMode"),h=[];o.eachRawSeries((function(t){!t.get("legendHoverLink")&&h.push(t.id)})),S(e.getData(),(function(n,r){var a=n.get("name");if(!this.newlineDisabled&&(""===a||"\n"===a)){var s=new I;return s.newline=!0,void l.add(s)}var p=o.getSeriesByName(a)[0];if(!d.get(a)){if(p){var f=p.getData(),g=f.getVisual("legendLineStyle")||{},y=f.getVisual("legendIcon"),m=f.getVisual("style");this._createItem(p,a,r,n,e,t,g,m,y,c).on("click",w(T,a,null,i,h)).on("mouseover",w(M,p.name,null,i,h)).on("mouseout",w(A,p.name,null,i,h)),d.set(a,!0)}else o.eachRawSeries((function(o){if(!d.get(a)&&o.legendVisualProvider){var s=o.legendVisualProvider;if(!s.containName(a))return;var l=s.indexOfName(a),p=s.getItemVisual(l,"style"),f=s.getItemVisual(l,"legendIcon"),g=Object(u.parse)(p.fill);g&&0===g[3]&&(g[3]=.2,p.fill=Object(u.stringify)(g,"rgba")),this._createItem(o,a,r,n,e,t,{},p,f,c).on("click",w(T,null,a,i,h)).on("mouseover",w(M,null,a,i,h)).on("mouseout",w(A,null,a,i,h)),d.set(a,!0)}}),this);0}}),this),n&&this._createSelector(n,e,i,a,s)},e.prototype._createSelector=function(t,e,o,i,n){var r=this.getSelectorGroup();S(t,(function(t){var i=t.type,n=new p.a({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){o.dispatchAction({type:"all"===i?"legendAllSelect":"legendInverseSelect"})}});r.add(n);var a=e.getModel("selectorLabel"),s=e.getModel(["emphasis","selectorLabel"]);Object(m.f)(n,{normal:a,emphasis:s},{defaultText:t.title}),Object(y.m)(n)}))},e.prototype._createItem=function(t,e,o,i,n,r,a,s,l,d){var c=t.visualDrawType,u=n.get("itemWidth"),h=n.get("itemHeight"),v=n.isSelected(e),x=i.get("symbolRotate"),b=i.get("symbolKeepAspect"),w=i.get("icon"),O=function(t,e,o,i,n,r){function a(t,e){"auto"===t.lineWidth&&(t.lineWidth=e.lineWidth>0?2:0),S(t,(function(o,i){"inherit"===t[i]&&(t[i]=e[i])}))}var s=e.getModel("itemStyle").getItemStyle(),l=0===t.lastIndexOf("empty",0)?"fill":"stroke";s.decal=i.decal,"inherit"===s.fill&&(s.fill=i[n]);"inherit"===s.stroke&&(s.stroke=i[l]);"inherit"===s.opacity&&(s.opacity=("fill"===n?i:o).opacity);a(s,i);var d=e.getModel("lineStyle"),c=d.getLineStyle();if(a(c,o),"auto"===s.fill&&(s.fill=i.fill),"auto"===s.stroke&&(s.stroke=i.fill),"auto"===c.stroke&&(c.stroke=i.fill),!r){var u=e.get("inactiveBorderWidth"),h=s[l];s.lineWidth="auto"===u?i.lineWidth>0&&h?2:0:s.lineWidth,s.fill=e.get("inactiveColor"),s.stroke=e.get("inactiveBorderColor"),c.stroke=d.get("inactiveColor"),c.lineWidth=d.get("inactiveWidth")}return{itemStyle:s,lineStyle:c}}(l=w||l||"roundRect",i,a,s,c,v),T=new I,C=i.getModel("textStyle");if("function"!==typeof t.getLegendIcon||w&&"inherit"!==w){var M="inherit"===w&&t.getData().getVisual("symbol")?"inherit"===x?t.getData().getVisual("symbolRotate"):x:0;T.add(function(t){var e=t.icon||"roundRect",o=Object(_.a)(e,0,0,t.itemWidth,t.itemHeight,t.itemStyle.fill,t.symbolKeepAspect);o.setStyle(t.itemStyle),o.rotation=(t.iconRotate||0)*Math.PI/180,o.setOrigin([t.itemWidth/2,t.itemHeight/2]),e.indexOf("empty")>-1&&(o.style.stroke=o.style.fill,o.style.fill="#fff",o.style.lineWidth=2);return o}({itemWidth:u,itemHeight:h,icon:l,iconRotate:M,itemStyle:O.itemStyle,lineStyle:O.lineStyle,symbolKeepAspect:b}))}else T.add(t.getLegendIcon({itemWidth:u,itemHeight:h,icon:l,iconRotate:x,itemStyle:O.itemStyle,lineStyle:O.lineStyle,symbolKeepAspect:b}));var A="left"===r?u+5:-5,j=r,D=n.get("formatter"),k=e;"string"===typeof D&&D?k=D.replace("{name}",null!=e?e:""):"function"===typeof D&&(k=D(e));var P=i.get("inactiveColor");T.add(new p.a({style:Object(m.b)(C,{text:k,x:A,y:h/2,fill:v?C.getTextColor():P,align:j,verticalAlign:"middle"})}));var L=new f.a({shape:T.getBoundingRect(),invisible:!0}),N=i.getModel("tooltip");return N.get("show")&&g.setTooltipConfig({el:L,componentModel:n,itemName:e,itemTooltipOption:N.option}),T.add(L),T.eachChild((function(t){t.silent=!0})),L.silent=!d,this.getContentGroup().add(T),Object(y.m)(T),T.__legendDataIndex=o,T},e.prototype.layoutInner=function(t,e,o,i,n,r){var a=this.getContentGroup(),s=this.getSelectorGroup();x.a(t.get("orient"),a,t.get("itemGap"),o.width,o.height);var l=a.getBoundingRect(),d=[-l.x,-l.y];if(s.markRedraw(),a.markRedraw(),n){x.a("horizontal",s,t.get("selectorItemGap",!0));var c=s.getBoundingRect(),u=[-c.x,-c.y],h=t.get("selectorButtonGap",!0),p=t.getOrient().index,f=0===p?"width":"height",g=0===p?"height":"width",y=0===p?"y":"x";"end"===r?u[p]+=l[f]+h:d[p]+=c[f]+h,u[1-p]+=l[g]/2-c[g]/2,s.x=u[0],s.y=u[1],a.x=d[0],a.y=d[1];var m={x:0,y:0};return m[f]=l[f]+h+c[f],m[g]=Math.max(l[g],c[g]),m[y]=Math.min(0,c[y]+u[1-p]),m}return a.x=d[0],a.y=d[1],this.group.getBoundingRect()},e.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},e.type="legend.plain",e}(b.a);function T(t,e,o,i){A(t,e,o,i),o.dispatchAction({type:"legendToggleSelect",name:null!=t?t:e}),M(t,e,o,i)}function C(t){for(var e,o=t.getZr().storage.getDisplayList(),i=0,n=o.length;i<n&&!(e=o[i].states.emphasis);)i++;return e&&e.hoverLayer}function M(t,e,o,i){C(o)||o.dispatchAction({type:"highlight",seriesName:t,name:e,excludeSeriesId:i})}function A(t,e,o,i){C(o)||o.dispatchAction({type:"downplay",seriesName:t,name:e,excludeSeriesId:i})}var j=O;function D(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.filterSeries((function(t){for(var o=0;o<e.length;o++)if(!e[o].isSelected(t.name))return!1;return!0}))}function k(t,e,o){var i,n={},a="toggleSelected"===t;return o.eachComponent("legend",(function(o){a&&null!=i?o[i?"select":"unSelect"](e.name):"allSelect"===t||"inverseSelect"===t?o[t]():(o[t](e.name),i=o.isSelected(e.name));var s=o.getData();Object(r.k)(s,(function(t){var e=t.get("name");if("\n"!==e&&""!==e){var i=o.isSelected(e);n.hasOwnProperty(e)?n[e]=n[e]&&i:n[e]=i}}))})),"allSelect"===t||"inverseSelect"===t?{selected:n}:{name:e.name,selected:n}}function P(t){t.registerComponentModel(c),t.registerComponentView(j),t.registerProcessor(t.PRIORITY.PROCESSOR.SERIES_FILTER,D),t.registerSubTypeDefaulter("legend",(function(){return"plain"})),function(t){t.registerAction("legendToggleSelect","legendselectchanged",Object(r.i)(k,"toggleSelected")),t.registerAction("legendAllSelect","legendselectall",Object(r.i)(k,"allSelect")),t.registerAction("legendInverseSelect","legendinverseselect",Object(r.i)(k,"inverseSelect")),t.registerAction("legendSelect","legendselected",Object(r.i)(k,"select")),t.registerAction("legendUnSelect","legendunselected",Object(r.i)(k,"unSelect"))}(t)}var L=o(106),N=function(t){function e(){var o=null!==t&&t.apply(this,arguments)||this;return o.type=e.type,o}return Object(n.b)(e,t),e.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t},e.prototype.init=function(e,o,i){var n=Object(x.c)(e);t.prototype.init.call(this,e,o,i),z(this,e,n)},e.prototype.mergeOption=function(e,o){t.prototype.mergeOption.call(this,e,o),z(this,this.option,e)},e.type="legend.scroll",e.defaultOption=Object(L.d)(c.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),e}(c);function z(t,e,o){var i=[1,1];i[t.getOrient().index]=0,Object(x.e)(e,o,{type:"box",ignoreSize:!!i})}var B=N,R=o(90),E=h.a,G=["width","height"],H=["x","y"],Y=function(t){function e(){var o=null!==t&&t.apply(this,arguments)||this;return o.type=e.type,o.newlineDisabled=!0,o._currentIndex=0,o}return Object(n.b)(e,t),e.prototype.init=function(){t.prototype.init.call(this),this.group.add(this._containerGroup=new E),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new E)},e.prototype.resetInner=function(){t.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},e.prototype.renderInner=function(e,o,i,n,a,s,l){var d=this;t.prototype.renderInner.call(this,e,o,i,n,a,s,l);var c=this._controllerGroup,u=o.get("pageIconSize",!0),h=r.s(u)?u:[u,u];y("pagePrev",0);var f=o.getModel("pageTextStyle");function y(t,e){var i=t+"DataIndex",a=g.createIcon(o.get("pageIcons",!0)[o.getOrient().name][e],{onclick:r.c(d._pageGo,d,i,o,n)},{x:-h[0]/2,y:-h[1]/2,width:h[0],height:h[1]});a.name=t,c.add(a)}c.add(new p.a({name:"pageText",style:{text:"xx/xx",fill:f.getTextColor(),font:f.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),y("pageNext",1)},e.prototype.layoutInner=function(t,e,o,i,n,a){var s=this.getSelectorGroup(),l=t.getOrient().index,d=G[l],c=H[l],u=G[1-l],h=H[1-l];n&&x.a("horizontal",s,t.get("selectorItemGap",!0));var p=t.get("selectorButtonGap",!0),f=s.getBoundingRect(),g=[-f.x,-f.y],y=r.d(o);n&&(y[d]=o[d]-f[d]-p);var m=this._layoutContentAndController(t,i,y,l,d,u,h,c);if(n){if("end"===a)g[l]+=m[d]+p;else{var v=f[d]+p;g[l]-=v,m[c]-=v}m[d]+=f[d]+p,g[1-l]+=m[h]+m[u]/2-f[u]/2,m[u]=Math.max(m[u],f[u]),m[h]=Math.min(m[h],f[h]+g[1-l]),s.x=g[0],s.y=g[1],s.markRedraw()}return m},e.prototype._layoutContentAndController=function(t,e,o,i,n,a,s,l){var d=this.getContentGroup(),c=this._containerGroup,u=this._controllerGroup;x.a(t.get("orient"),d,t.get("itemGap"),i?o.width:null,i?null:o.height),x.a("horizontal",u,t.get("pageButtonItemGap",!0));var h=d.getBoundingRect(),p=u.getBoundingRect(),g=this._showController=h[n]>o[n],y=[-h.x,-h.y];e||(y[i]=d[l]);var m=[0,0],v=[-p.x,-p.y],b=r.M(t.get("pageButtonGap",!0),t.get("itemGap",!0));g&&("end"===t.get("pageButtonPosition",!0)?v[i]+=o[n]-p[n]:m[i]+=p[n]+b);v[1-i]+=h[a]/2-p[a]/2,d.setPosition(y),c.setPosition(m),u.setPosition(v);var _={x:0,y:0};if(_[n]=g?o[n]:h[n],_[a]=Math.max(h[a],p[a]),_[s]=Math.min(0,p[s]+v[1-i]),c.__rectSize=o[n],g){var w={x:0,y:0};w[n]=Math.max(o[n]-p[n]-b,0),w[a]=_[a],c.setClipPath(new f.a({shape:w})),c.__rectSize=w[n]}else u.eachChild((function(t){t.attr({invisible:!0,silent:!0})}));var S=this._getPageInfo(t);return null!=S.pageIndex&&R.h(d,{x:S.contentPosition[0],y:S.contentPosition[1]},g?t:null),this._updatePageInfoView(t,S),_},e.prototype._pageGo=function(t,e,o){var i=this._getPageInfo(e)[t];null!=i&&o.dispatchAction({type:"legendScroll",scrollDataIndex:i,legendId:e.id})},e.prototype._updatePageInfoView=function(t,e){var o=this._controllerGroup;r.k(["pagePrev","pageNext"],(function(i){var n=null!=e[i+"DataIndex"],r=o.childOfName(i);r&&(r.setStyle("fill",n?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),r.cursor=n?"pointer":"default")}));var i=o.childOfName("pageText"),n=t.get("pageFormatter"),a=e.pageIndex,s=null!=a?a+1:0,l=e.pageCount;i&&n&&i.setStyle("text",r.A(n)?n.replace("{current}",null==s?"":s+"").replace("{total}",null==l?"":l+""):n({current:s,total:l}))},e.prototype._getPageInfo=function(t){var e=t.get("scrollDataIndex",!0),o=this.getContentGroup(),i=this._containerGroup.__rectSize,n=t.getOrient().index,r=G[n],a=H[n],s=this._findTargetItemIndex(e),l=o.children(),d=l[s],c=l.length,u=c?1:0,h={contentPosition:[o.x,o.y],pageCount:u,pageIndex:u-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!d)return h;var p=v(d);h.contentPosition[n]=-p.s;for(var f=s+1,g=p,y=p,m=null;f<=c;++f)(!(m=v(l[f]))&&y.e>g.s+i||m&&!x(m,g.s))&&(g=y.i>g.i?y:m)&&(null==h.pageNextDataIndex&&(h.pageNextDataIndex=g.i),++h.pageCount),y=m;for(f=s-1,g=p,y=p,m=null;f>=-1;--f)(m=v(l[f]))&&x(y,m.s)||!(g.i<y.i)||(y=g,null==h.pagePrevDataIndex&&(h.pagePrevDataIndex=g.i),++h.pageCount,++h.pageIndex),g=m;return h;function v(t){if(t){var e=t.getBoundingRect(),o=e[a]+t[a];return{s:o,e:o+e[r],i:t.__legendDataIndex}}}function x(t,e){return t.e>=e&&t.s<=e+i}},e.prototype._findTargetItemIndex=function(t){return this._showController?(this.getContentGroup().eachChild((function(i,n){var r=i.__legendDataIndex;null==o&&null!=r&&(o=n),r===t&&(e=n)})),null!=e?e:o):0;var e,o},e.type="legend.scroll",e}(j),V=Y;function X(t){Object(i.a)(P),t.registerComponentModel(B),t.registerComponentView(V),function(t){t.registerAction("legendScroll","legendscroll",(function(t,e){var o=t.scrollDataIndex;null!=o&&e.eachComponent({mainType:"legend",subType:"scroll",query:t},(function(t){t.setScrollDataIndex(o)}))}))}(t)}function W(t){Object(i.a)(P),Object(i.a)(X)}},563:function(t,e,o){"use strict";o.d(e,"a",(function(){return bt}));var i=o(53),n=o(46),r=o(94),a=o(90),s=o(235),l=o(79),d=o(315),c=o(78);function u(t,e){var o=t.isExpand?t.children:[],i=t.parentNode.children,n=t.hierNode.i?i[t.hierNode.i-1]:null;if(o.length){!function(t){var e=t.children,o=e.length,i=0,n=0;for(;--o>=0;){var r=e[o];r.hierNode.prelim+=i,r.hierNode.modifier+=i,n+=r.hierNode.change,i+=r.hierNode.shift+n}}(t);var r=(o[0].hierNode.prelim+o[o.length-1].hierNode.prelim)/2;n?(t.hierNode.prelim=n.hierNode.prelim+e(t,n),t.hierNode.modifier=t.hierNode.prelim-r):t.hierNode.prelim=r}else n&&(t.hierNode.prelim=n.hierNode.prelim+e(t,n));t.parentNode.hierNode.defaultAncestor=function(t,e,o,i){if(e){for(var n=t,r=t,a=r.parentNode.children[0],s=e,l=n.hierNode.modifier,d=r.hierNode.modifier,c=a.hierNode.modifier,u=s.hierNode.modifier;s=g(s),r=y(r),s&&r;){n=g(n),a=y(a),n.hierNode.ancestor=t;var h=s.hierNode.prelim+u-r.hierNode.prelim-d+i(s,r);h>0&&(v(m(s,t,o),t,h),d+=h,l+=h),u+=s.hierNode.modifier,d+=r.hierNode.modifier,l+=n.hierNode.modifier,c+=a.hierNode.modifier}s&&!g(n)&&(n.hierNode.thread=s,n.hierNode.modifier+=u-l),r&&!y(a)&&(a.hierNode.thread=r,a.hierNode.modifier+=d-c,o=t)}return o}(t,n,t.parentNode.hierNode.defaultAncestor||i[0],e)}function h(t){var e=t.hierNode.prelim+t.parentNode.hierNode.modifier;t.setLayout({x:e},!0),t.hierNode.modifier+=t.parentNode.hierNode.modifier}function p(t){return arguments.length?t:x}function f(t,e){return t-=Math.PI/2,{x:e*Math.cos(t),y:e*Math.sin(t)}}function g(t){var e=t.children;return e.length&&t.isExpand?e[e.length-1]:t.hierNode.thread}function y(t){var e=t.children;return e.length&&t.isExpand?e[0]:t.hierNode.thread}function m(t,e,o){return t.hierNode.ancestor.parentNode===e.parentNode?t.hierNode.ancestor:o}function v(t,e,o){var i=o/(e.hierNode.i-t.hierNode.i);e.hierNode.change-=i,e.hierNode.shift+=o,e.hierNode.modifier+=o,e.hierNode.prelim+=o,t.hierNode.change+=i}function x(t,e){return t.parentNode===e.parentNode?1:2}var b=o(184),_=o(71),w=o(80),S=o(65),I=o(150),O=_.b;function T(t){var e=t.seriesModel;return e?e.coordinateSystem:null}var C=function(t){function e(e){var o=t.call(this)||this;return o.type="view",o.dimensions=["x","y"],o._roamTransformable=new I.a,o._rawTransformable=new I.a,o.name=e,o}return Object(i.b)(e,t),e.prototype.setBoundingRect=function(t,e,o,i){return this._rect=new S.a(t,e,o,i),this._rect},e.prototype.getBoundingRect=function(){return this._rect},e.prototype.setViewRect=function(t,e,o,i){this._transformTo(t,e,o,i),this._viewRect=new S.a(t,e,o,i)},e.prototype._transformTo=function(t,e,o,i){var n=this.getBoundingRect(),r=this._rawTransformable;r.transform=n.calculateTransform(new S.a(t,e,o,i));var a=r.parent;r.parent=null,r.decomposeTransform(),r.parent=a,this._updateTransform()},e.prototype.setCenter=function(t){t&&(this._center=t,this._updateCenterAndZoom())},e.prototype.setZoom=function(t){t=t||1;var e=this.zoomLimit;e&&(null!=e.max&&(t=Math.min(e.max,t)),null!=e.min&&(t=Math.max(e.min,t))),this._zoom=t,this._updateCenterAndZoom()},e.prototype.getDefaultCenter=function(){var t=this.getBoundingRect();return[t.x+t.width/2,t.y+t.height/2]},e.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},e.prototype.getZoom=function(){return this._zoom||1},e.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},e.prototype._updateCenterAndZoom=function(){var t=this._rawTransformable.getLocalTransform(),e=this._roamTransformable,o=this.getDefaultCenter(),i=this.getCenter(),n=this.getZoom();i=_.b([],i,t),o=_.b([],o,t),e.originX=i[0],e.originY=i[1],e.x=o[0]-i[0],e.y=o[1]-i[1],e.scaleX=e.scaleY=n,this._updateTransform()},e.prototype._updateTransform=function(){var t=this._roamTransformable,e=this._rawTransformable;e.parent=t,t.updateTransform(),e.updateTransform(),w.a(this.transform||(this.transform=[]),e.transform||w.b()),this._rawTransform=e.getLocalTransform(),this.invTransform=this.invTransform||[],w.d(this.invTransform,this.transform),this.decomposeTransform()},e.prototype.getTransformInfo=function(){var t=this._rawTransformable,e=this._roamTransformable,o=new I.a;return o.transform=e.transform,o.decomposeTransform(),{roam:{x:o.x,y:o.y,scaleX:o.scaleX,scaleY:o.scaleY},raw:{x:t.x,y:t.y,scaleX:t.scaleX,scaleY:t.scaleY}}},e.prototype.getViewRect=function(){return this._viewRect},e.prototype.getViewRectAfterRoam=function(){var t=this.getBoundingRect().clone();return t.applyTransform(this.transform),t},e.prototype.dataToPoint=function(t,e,o){var i=e?this._rawTransform:this.transform;return o=o||[],i?O(o,t,i):_.d(o,t)},e.prototype.pointToData=function(t){var e=this.invTransform;return e?O([],t,e):[t[0],t[1]]},e.prototype.convertToPixel=function(t,e,o){var i=T(e);return i===this?i.dataToPoint(o):null},e.prototype.convertFromPixel=function(t,e,o){var i=T(e);return i===this?i.pointToData(o):null},e.prototype.containPoint=function(t){return this.getViewRectAfterRoam().contain(t[0],t[1])},e.dimensions=["x","y"],e}(I.a);var M=o(83),A=o(101),j=o(349);function D(t,e,o,i,n){t.pointerChecker&&t.pointerChecker(i,n.originX,n.originY)&&(A.g(i.event),k(t,e,o,i,n))}function k(t,e,o,i,r){r.isAvailableBehavior=Object(n.c)(P,null,o,i),t.trigger(e,r)}function P(t,e,o){var i=o[t];return!t||i&&(!Object(n.A)(i)||e.event[i+"Key"])}var L=function(t){function e(e){var o=t.call(this)||this;o._zr=e;var i=Object(n.c)(o._mousedownHandler,o),r=Object(n.c)(o._mousemoveHandler,o),a=Object(n.c)(o._mouseupHandler,o),s=Object(n.c)(o._mousewheelHandler,o),l=Object(n.c)(o._pinchHandler,o);return o.enable=function(t,o){this.disable(),this._opt=Object(n.j)(Object(n.d)(o)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==t&&(t=!0),!0!==t&&"move"!==t&&"pan"!==t||(e.on("mousedown",i),e.on("mousemove",r),e.on("mouseup",a)),!0!==t&&"scale"!==t&&"zoom"!==t||(e.on("mousewheel",s),e.on("pinch",l))},o.disable=function(){e.off("mousedown",i),e.off("mousemove",r),e.off("mouseup",a),e.off("mousewheel",s),e.off("pinch",l)},o}return Object(i.b)(e,t),e.prototype.isDragging=function(){return this._dragging},e.prototype.isPinching=function(){return this._pinching},e.prototype.setPointerChecker=function(t){this.pointerChecker=t},e.prototype.dispose=function(){this.disable()},e.prototype._mousedownHandler=function(t){if(!(A.d(t)||t.target&&t.target.draggable)){var e=t.offsetX,o=t.offsetY;this.pointerChecker&&this.pointerChecker(t,e,o)&&(this._x=e,this._y=o,this._dragging=!0)}},e.prototype._mousemoveHandler=function(t){if(this._dragging&&P("moveOnMouseMove",t,this._opt)&&"pinch"!==t.gestureEvent&&!j.a(this._zr,"globalPan")){var e=t.offsetX,o=t.offsetY,i=this._x,n=this._y,r=e-i,a=o-n;this._x=e,this._y=o,this._opt.preventDefaultMouseMove&&A.g(t.event),k(this,"pan","moveOnMouseMove",t,{dx:r,dy:a,oldX:i,oldY:n,newX:e,newY:o,isAvailableBehavior:null})}},e.prototype._mouseupHandler=function(t){A.d(t)||(this._dragging=!1)},e.prototype._mousewheelHandler=function(t){var e=P("zoomOnMouseWheel",t,this._opt),o=P("moveOnMouseWheel",t,this._opt),i=t.wheelDelta,n=Math.abs(i),r=t.offsetX,a=t.offsetY;if(0!==i&&(e||o)){if(e){var s=n>3?1.4:n>1?1.2:1.1;D(this,"zoom","zoomOnMouseWheel",t,{scale:i>0?s:1/s,originX:r,originY:a,isAvailableBehavior:null})}if(o){var l=Math.abs(i);D(this,"scrollMove","moveOnMouseWheel",t,{scrollDelta:(i>0?1:-1)*(l>3?.4:l>1?.15:.05),originX:r,originY:a,isAvailableBehavior:null})}}},e.prototype._pinchHandler=function(t){j.a(this._zr,"globalPan")||D(this,"zoom",null,t,{scale:t.pinchScale>1?1.1:1/1.1,originX:t.pinchX,originY:t.pinchY,isAvailableBehavior:null})},e}(M.a),N=o(350),z=o(56),B=o(130),R=o(64),E=o(91),G=function(){this.parentPoint=[],this.childPoints=[]},H=function(t){function e(e){return t.call(this,e)||this}return Object(i.b)(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new G},e.prototype.buildPath=function(t,e){var o=e.childPoints,i=o.length,n=e.parentPoint,r=o[0],a=o[i-1];if(1===i)return t.moveTo(n[0],n[1]),void t.lineTo(r[0],r[1]);var s=e.orient,l="TB"===s||"BT"===s?0:1,d=1-l,c=Object(z.p)(e.forkPosition,1),u=[];u[l]=n[l],u[d]=n[d]+(a[d]-n[d])*c,t.moveTo(n[0],n[1]),t.lineTo(u[0],u[1]),t.moveTo(r[0],r[1]),u[l]=r[l],t.lineTo(u[0],u[1]),u[l]=a[l],t.lineTo(u[0],u[1]),t.lineTo(a[0],a[1]);for(var h=1;h<i-1;h++){var p=o[h];t.moveTo(p[0],p[1]),u[l]=p[l],t.lineTo(u[0],u[1])}},e}(R.b),Y=function(t){function e(){var o=null!==t&&t.apply(this,arguments)||this;return o.type=e.type,o._mainGroup=new r.a,o}return Object(i.b)(e,t),e.prototype.init=function(t,e){this._controller=new L(e.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},e.prototype.render=function(t,e,o){var i=t.getData(),n=t.layoutInfo,r=this._mainGroup;"radial"===t.get("layout")?(r.x=n.x+n.width/2,r.y=n.y+n.height/2):(r.x=n.x,r.y=n.y),this._updateViewCoordSys(t),this._updateController(t,e,o);var a=this._data;i.diff(a).add((function(e){V(i,e)&&X(i,e,null,r,t)})).update((function(e,o){var n=a.getItemGraphicEl(o);V(i,e)?X(i,e,n,r,t):n&&F(a,o,n,r,t)})).remove((function(e){var o=a.getItemGraphicEl(e);o&&F(a,e,o,r,t)})).execute(),this._nodeScaleRatio=t.get("nodeScaleRatio"),this._updateNodeAndLinkScale(t),!0===t.get("expandAndCollapse")&&i.eachItemGraphicEl((function(e,i){e.off("click").on("click",(function(){o.dispatchAction({type:"treeExpandAndCollapse",seriesId:t.id,dataIndex:i})}))})),this._data=i},e.prototype._updateViewCoordSys=function(t){var e=t.getData(),o=[];e.each((function(t){var i=e.getItemLayout(t);!i||isNaN(i.x)||isNaN(i.y)||o.push([+i.x,+i.y])}));var i=[],n=[];b.d(o,i,n);var r=this._min,a=this._max;n[0]-i[0]===0&&(i[0]=r?r[0]:i[0]-1,n[0]=a?a[0]:n[0]+1),n[1]-i[1]===0&&(i[1]=r?r[1]:i[1]-1,n[1]=a?a[1]:n[1]+1);var s=t.coordinateSystem=new C;s.zoomLimit=t.get("scaleLimit"),s.setBoundingRect(i[0],i[1],n[0]-i[0],n[1]-i[1]),s.setCenter(t.get("center")),s.setZoom(t.get("zoom")),this.group.attr({x:s.x,y:s.y,scaleX:s.scaleX,scaleY:s.scaleY}),this._min=i,this._max=n},e.prototype._updateController=function(t,e,o){var i=this,n=this._controller,r=this._controllerHost,a=this.group;n.setPointerChecker((function(e,i,n){var r=a.getBoundingRect();return r.applyTransform(a.transform),r.contain(i,n)&&!Object(N.a)(e,o,t)})),n.enable(t.get("roam")),r.zoomLimit=t.get("scaleLimit"),r.zoom=t.coordinateSystem.getZoom(),n.off("pan").off("zoom").on("pan",(function(e){!function(t,e,o){var i=t.target;i.x+=e,i.y+=o,i.dirty()}(r,e.dx,e.dy),o.dispatchAction({seriesId:t.id,type:"treeRoam",dx:e.dx,dy:e.dy})})).on("zoom",(function(e){!function(t,e,o,i){var n=t.target,r=t.zoomLimit,a=t.zoom=t.zoom||1;if(a*=e,r){var s=r.min||0,l=r.max||1/0;a=Math.max(Math.min(l,a),s)}var d=a/t.zoom;t.zoom=a,n.x-=(o-n.x)*(d-1),n.y-=(i-n.y)*(d-1),n.scaleX*=d,n.scaleY*=d,n.dirty()}(r,e.scale,e.originX,e.originY),o.dispatchAction({seriesId:t.id,type:"treeRoam",zoom:e.scale,originX:e.originX,originY:e.originY}),i._updateNodeAndLinkScale(t),o.updateLabelLayout()}))},e.prototype._updateNodeAndLinkScale=function(t){var e=t.getData(),o=this._getNodeGlobalScale(t);e.eachItemGraphicEl((function(t,e){t.setSymbolScale(o)}))},e.prototype._getNodeGlobalScale=function(t){var e=t.coordinateSystem;if("view"!==e.type)return 1;var o=this._nodeScaleRatio,i=e.scaleX||1;return((e.getZoom()-1)*o+1)/i},e.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},e.type="tree",e}(B.a);function V(t,e){var o=t.getItemLayout(e);return o&&!isNaN(o.x)&&!isNaN(o.y)}function X(t,e,o,i,r){var c=!o,u=t.tree.getNodeByDataIndex(e),h=u.getModel(),p=u.getVisual("style").fill,f=!1===u.isExpand&&0!==u.children.length?p:"#fff",g=t.tree.root,y=u.parentNode===g?u:u.parentNode||u,m=t.getItemGraphicEl(y.dataIndex),v=y.getLayout(),x=m?{x:m.__oldX,y:m.__oldY,rawX:m.__radialOldRawX,rawY:m.__radialOldRawY}:v,b=u.getLayout();c?((o=new d.a(t,e,null,{symbolInnerColor:f,useNameLabel:!0})).x=x.x,o.y=x.y):o.updateData(t,e,null,{symbolInnerColor:f,useNameLabel:!0}),o.__radialOldRawX=o.__radialRawX,o.__radialOldRawY=o.__radialRawY,o.__radialRawX=b.rawX,o.__radialRawY=b.rawY,i.add(o),t.setItemGraphicEl(e,o),o.__oldX=o.x,o.__oldY=o.y,a.h(o,{x:b.x,y:b.y},r);var _=o.getSymbolPath();if("radial"===r.get("layout")){var w=g.children[0],S=w.getLayout(),I=w.children.length,O=void 0,T=void 0;if(b.x===S.x&&!0===u.isExpand){var C={x:(w.children[0].getLayout().x+w.children[I-1].getLayout().x)/2,y:(w.children[0].getLayout().y+w.children[I-1].getLayout().y)/2};(O=Math.atan2(C.y-S.y,C.x-S.x))<0&&(O=2*Math.PI+O),(T=C.x<S.x)&&(O-=Math.PI)}else(O=Math.atan2(b.y-S.y,b.x-S.x))<0&&(O=2*Math.PI+O),0===u.children.length||0!==u.children.length&&!1===u.isExpand?(T=b.x<S.x)&&(O-=Math.PI):(T=b.x>S.x)||(O-=Math.PI);var M=T?"left":"right",A=h.getModel("label"),j=A.get("rotate"),D=j*(Math.PI/180),k=_.getTextContent();k&&(_.setTextConfig({position:A.get("position")||M,rotation:null==j?-O:D,origin:"center"}),k.setStyle("verticalAlign","middle"))}var P=h.get(["emphasis","focus"]),L="ancestor"===P?u.getAncestorsIndices():"descendant"===P?u.getDescendantIndices():null;L&&(Object(l.a)(o).focus=L),function(t,e,o,i,r,l,d,c){var u=e.getModel(),h=t.get("edgeShape"),p=t.get("layout"),f=t.getOrient(),g=t.get(["lineStyle","curveness"]),y=t.get("edgeForkPosition"),m=u.getModel("lineStyle").getLineStyle(),v=i.__edge;if("curve"===h)e.parentNode&&e.parentNode!==o&&(v||(v=i.__edge=new s.a({shape:U(p,f,g,r,r)})),a.h(v,{shape:U(p,f,g,l,d)},t));else if("polyline"===h)if("orthogonal"===p){if(e!==o&&e.children&&0!==e.children.length&&!0===e.isExpand){for(var x=e.children,b=[],_=0;_<x.length;_++){var w=x[_].getLayout();b.push([w.x,w.y])}v||(v=i.__edge=new H({shape:{parentPoint:[d.x,d.y],childPoints:[[d.x,d.y]],orient:f,forkPosition:y}})),a.h(v,{shape:{parentPoint:[d.x,d.y],childPoints:b}},t)}}else 0;v&&(v.useStyle(n.j({strokeNoScale:!0,fill:null},m)),Object(E.E)(v,u,"lineStyle"),Object(E.C)(v),c.add(v))}(r,u,g,o,x,v,b,i),o.__edge&&(o.onHoverStateChange=function(e){if("blur"!==e){var i=u.parentNode&&t.getItemGraphicEl(u.parentNode.dataIndex);i&&i.hoverState===E.d||Object(E.D)(o.__edge,e)}})}function W(t,e,o,i,n){var r=Z(e.tree.root,t),s=r.source,l=r.sourceLayout,d=e.getItemGraphicEl(t.dataIndex);if(d){var c=e.getItemGraphicEl(s.dataIndex).__edge,u=d.__edge||(!1===s.isExpand||1===s.children.length?c:void 0),h=i.get("edgeShape"),p=i.get("layout"),f=i.get("orient"),g=i.get(["lineStyle","curveness"]);u&&("curve"===h?a.e(u,{shape:U(p,f,g,l,l),style:{opacity:0}},i,{cb:function(){o.remove(u)},removeOpt:n}):"polyline"===h&&"orthogonal"===i.get("layout")&&a.e(u,{shape:{parentPoint:[l.x,l.y],childPoints:[[l.x,l.y]]},style:{opacity:0}},i,{cb:function(){o.remove(u)},removeOpt:n}))}}function Z(t,e){for(var o,i=e.parentNode===t?e:e.parentNode||e;null==(o=i.getLayout());)i=i.parentNode===t?i:i.parentNode||i;return{source:i,sourceLayout:o}}function F(t,e,o,i,n){var r=t.tree.getNodeByDataIndex(e),s=Z(t.tree.root,r).sourceLayout,l={duration:n.get("animationDurationUpdate"),easing:n.get("animationEasingUpdate")};a.e(o,{x:s.x+1,y:s.y+1},n,{cb:function(){i.remove(o),t.setItemGraphicEl(e,null)},removeOpt:l}),o.fadeOut(null,{fadeLabel:!0,animation:l}),r.children.forEach((function(e){W(e,t,i,n,l)})),W(r,t,i,n,l)}function U(t,e,o,i,n){var r,a,s,l,d,c,u,h;if("radial"===t){d=i.rawX,u=i.rawY,c=n.rawX,h=n.rawY;var p=f(d,u),g=f(d,u+(h-u)*o),y=f(c,h+(u-h)*o),m=f(c,h);return{x1:p.x||0,y1:p.y||0,x2:m.x||0,y2:m.y||0,cpx1:g.x||0,cpy1:g.y||0,cpx2:y.x||0,cpy2:y.y||0}}return d=i.x,u=i.y,c=n.x,h=n.y,"LR"!==e&&"RL"!==e||(r=d+(c-d)*o,a=u,s=c+(d-c)*o,l=h),"TB"!==e&&"BT"!==e||(r=d,a=u+(h-u)*o,s=c,l=h+(u-h)*o),{x1:d,y1:u,x2:c,y2:h,cpx1:r,cpy1:a,cpx2:s,cpy2:l}}var K=Y,q=o(128),Q=o(49),J=Object(Q.m)();function $(t,e){if(J(i=this).mainData===i){var o=Object(n.m)({},J(this).datas);o[this.dataType]=e,nt(e,o,t)}else rt(e,this.dataType,J(this).mainData,t);var i;return e}function tt(t,e){return t.struct&&t.struct.update(),e}function et(t,e){return Object(n.k)(J(e).datas,(function(o,i){o!==e&&rt(o.cloneShallow(),i,e,t)})),e}function ot(t){var e=J(this).mainData;return null==t||null==e?e:J(e).datas[t]}function it(){var t=J(this).mainData;return null==t?[{data:t}]:Object(n.F)(Object(n.D)(J(t).datas),(function(e){return{type:e,data:J(t).datas[e]}}))}function nt(t,e,o){J(t).datas={},Object(n.k)(e,(function(e,i){rt(e,i,t,o)}))}function rt(t,e,o,i){J(o).datas[e]=t,J(t).mainData=o,t.dataType=e,i.struct&&(t[i.structAttr]=i.struct,i.struct[i.datasAttr[e]]=t),t.getLinkedData=ot,t.getLinkedDataAll=it}var at=function(t){var e=t.mainData,o=t.datas;o||(o={main:e},t.datasAttr={main:"data"}),t.datas=t.mainData=null,nt(e,o,t),Object(n.k)(o,(function(o){Object(n.k)(e.TRANSFERABLE_METHODS,(function(e){o.wrapMethod(e,Object(n.i)($,t))}))})),e.wrapMethod("cloneShallow",Object(n.i)(et,t)),Object(n.k)(e.CHANGABLE_METHODS,(function(o){e.wrapMethod(o,Object(n.i)(tt,t))})),Object(n.b)(o[e.dataType]===e)},st=o(200),lt=o(199),dt=function(){function t(t,e){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=t||"",this.hostTree=e}return t.prototype.isRemoved=function(){return this.dataIndex<0},t.prototype.eachNode=function(t,e,o){"function"===typeof t&&(o=e,e=t,t=null),t=t||{},n.A(t)&&(t={order:t});var i,r=t.order||"preorder",a=this[t.attr||"children"];"preorder"===r&&(i=e.call(o,this));for(var s=0;!i&&s<a.length;s++)a[s].eachNode(t,e,o);"postorder"===r&&e.call(o,this)},t.prototype.updateDepthAndHeight=function(t){var e=0;this.depth=t;for(var o=0;o<this.children.length;o++){var i=this.children[o];i.updateDepthAndHeight(t+1),i.height>e&&(e=i.height)}this.height=e+1},t.prototype.getNodeById=function(t){if(this.getId()===t)return this;for(var e=0,o=this.children,i=o.length;e<i;e++){var n=o[e].getNodeById(t);if(n)return n}},t.prototype.contains=function(t){if(t===this)return!0;for(var e=0,o=this.children,i=o.length;e<i;e++){var n=o[e].contains(t);if(n)return n}},t.prototype.getAncestors=function(t){for(var e=[],o=t?this:this.parentNode;o;)e.push(o),o=o.parentNode;return e.reverse(),e},t.prototype.getAncestorsIndices=function(){for(var t=[],e=this;e;)t.push(e.dataIndex),e=e.parentNode;return t.reverse(),t},t.prototype.getDescendantIndices=function(){var t=[];return this.eachNode((function(e){t.push(e.dataIndex)})),t},t.prototype.getValue=function(t){var e=this.hostTree.data;return e.getStore().get(e.getDimensionIndex(t||"value"),this.dataIndex)},t.prototype.setLayout=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,e)},t.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},t.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostTree.data.getItemModel(this.dataIndex).getModel(t)},t.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},t.prototype.setVisual=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,e)},t.prototype.getVisual=function(t){return this.hostTree.data.getItemVisual(this.dataIndex,t)},t.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},t.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},t.prototype.getChildIndex=function(){if(this.parentNode){for(var t=this.parentNode.children,e=0;e<t.length;++e)if(t[e]===this)return e;return-1}return-1},t.prototype.isAncestorOf=function(t){for(var e=t.parentNode;e;){if(e===this)return!0;e=e.parentNode}return!1},t.prototype.isDescendantOf=function(t){return t!==this&&t.isAncestorOf(this)},t}();var ct=function(){function t(t){this.type="tree",this._nodes=[],this.hostModel=t}return t.prototype.eachNode=function(t,e,o){this.root.eachNode(t,e,o)},t.prototype.getNodeByDataIndex=function(t){var e=this.data.getRawIndex(t);return this._nodes[e]},t.prototype.getNodeById=function(t){return this.root.getNodeById(t)},t.prototype.update=function(){for(var t=this.data,e=this._nodes,o=0,i=e.length;o<i;o++)e[o].dataIndex=-1;for(o=0,i=t.count();o<i;o++)e[t.getRawIndex(o)].dataIndex=o},t.prototype.clearLayouts=function(){this.data.clearItemLayouts()},t.createTree=function(e,o,i){var r=new t(o),a=[],s=1;!function t(e,o){var i=e.value;s=Math.max(s,n.s(i)?i.length:1),a.push(e);var l=new dt(Object(Q.d)(e.name,""),r);o?function(t,e){var o=e.children;if(t.parentNode===e)return;o.push(t),t.parentNode=e}(l,o):r.root=l,r._nodes.push(l);var d=e.children;if(d)for(var c=0;c<d.length;c++)t(d[c],l)}(e),r.root.updateDepthAndHeight(0);var l=Object(lt.b)(a,{coordDimensions:["value"],dimensionsCount:s}).dimensions,d=new st.a(l,o);return d.initData(a),i&&i(d),at({mainData:d,struct:r,structAttr:"tree"}),r.update(),r},t}(),ut=o(72),ht=o(116);function pt(t,e){for(var o=[];t;){var i=t.dataIndex;o.push({name:t.name,dataIndex:i,value:e.getRawValue(i)}),t=t.parentNode}return o.reverse(),o}var ft=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hasSymbolVisual=!0,e.ignoreStyleOnData=!0,e}return Object(i.b)(e,t),e.prototype.getInitialData=function(t){var e={name:t.name,children:t.data},o=t.leaves||{},i=new ut.a(o,this,this.ecModel),n=ct.createTree(e,this,(function(t){t.wrapMethod("getItemModel",(function(t,e){var o=n.getNodeByDataIndex(e);return o&&o.children.length&&o.isExpand||(t.parentModel=i),t}))}));var r=0;n.eachNode("preorder",(function(t){t.depth>r&&(r=t.depth)}));var a=t.expandAndCollapse&&t.initialTreeDepth>=0?t.initialTreeDepth:r;return n.root.eachNode("preorder",(function(t){var e=t.hostTree.data.getRawDataItem(t.dataIndex);t.isExpand=e&&null!=e.collapsed?!e.collapsed:t.depth<=a})),n.data},e.prototype.getOrient=function(){var t=this.get("orient");return"horizontal"===t?t="LR":"vertical"===t&&(t="TB"),t},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.formatTooltip=function(t,e,o){for(var i=this.getData().tree,n=i.root.children[0],r=i.getNodeByDataIndex(t),a=r.getValue(),s=r.name;r&&r!==n;)s=r.parentNode.name+"."+s,r=r.parentNode;return Object(ht.c)("nameValue",{name:s,value:a,noValue:isNaN(a)||null==a})},e.prototype.getDataParams=function(e){var o=t.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(e);return o.treeAncestors=pt(i,this),o},e.type="series.tree",e.layoutMode="box",e.defaultOption={zlevel:0,z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},e}(q.b),gt=ft;function yt(t,e){for(var o,i=[t];o=i.pop();)if(e(o),o.isExpand){var n=o.children;if(n.length)for(var r=n.length-1;r>=0;r--)i.push(n[r])}}function mt(t,e){t.eachSeriesByType("tree",(function(t){!function(t,e){var o=function(t,e){return c.d(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}(t,e);t.layoutInfo=o;var i=t.get("layout"),n=0,r=0,a=null;"radial"===i?(n=2*Math.PI,r=Math.min(o.height,o.width)/2,a=p((function(t,e){return(t.parentNode===e.parentNode?1:2)/t.depth}))):(n=o.width,r=o.height,a=p());var s=t.getData().tree.root,l=s.children[0];if(l){!function(t){var e=t;e.hierNode={defaultAncestor:null,ancestor:e,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var o,i,n=[e];o=n.pop();)if(i=o.children,o.isExpand&&i.length)for(var r=i.length-1;r>=0;r--){var a=i[r];a.hierNode={defaultAncestor:null,ancestor:a,prelim:0,modifier:0,change:0,shift:0,i:r,thread:null},n.push(a)}}(s),function(t,e,o){for(var i,n=[t],r=[];i=n.pop();)if(r.push(i),i.isExpand){var a=i.children;if(a.length)for(var s=0;s<a.length;s++)n.push(a[s])}for(;i=r.pop();)e(i,o)}(l,u,a),s.hierNode.modifier=-l.hierNode.prelim,yt(l,h);var d=l,g=l,y=l;yt(l,(function(t){var e=t.getLayout().x;e<d.getLayout().x&&(d=t),e>g.getLayout().x&&(g=t),t.depth>y.depth&&(y=t)}));var m=d===g?1:a(d,g)/2,v=m-d.getLayout().x,x=0,b=0,_=0,w=0;if("radial"===i)x=n/(g.getLayout().x+m+v),b=r/(y.depth-1||1),yt(l,(function(t){_=(t.getLayout().x+v)*x,w=(t.depth-1)*b;var e=f(_,w);t.setLayout({x:e.x,y:e.y,rawX:_,rawY:w},!0)}));else{var S=t.getOrient();"RL"===S||"LR"===S?(b=r/(g.getLayout().x+m+v),x=n/(y.depth-1||1),yt(l,(function(t){w=(t.getLayout().x+v)*b,_="LR"===S?(t.depth-1)*x:n-(t.depth-1)*x,t.setLayout({x:_,y:w},!0)}))):"TB"!==S&&"BT"!==S||(x=n/(g.getLayout().x+m+v),b=r/(y.depth-1||1),yt(l,(function(t){_=(t.getLayout().x+v)*x,w="TB"===S?(t.depth-1)*b:r-(t.depth-1)*b,t.setLayout({x:_,y:w},!0)})))}}}(t,e)}))}function vt(t){t.eachSeriesByType("tree",(function(t){var e=t.getData();e.tree.eachNode((function(t){var o=t.getModel().getModel("itemStyle").getItemStyle(),i=e.ensureUniqueItemVisual(t.dataIndex,"style");Object(n.m)(i,o)}))}))}function xt(t){t.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},(function(t,e){e.eachComponent({mainType:"series",subType:"tree",query:t},(function(e){var o=t.dataIndex,i=e.getData().tree.getNodeByDataIndex(o);i.isExpand=!i.isExpand}))})),t.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},(function(t,e){e.eachComponent({mainType:"series",subType:"tree",query:t},(function(e){var o=function(t,e,o){var i=t.getZoom(),n=t.getCenter(),r=e.zoom,a=t.dataToPoint(n);if(null!=e.dx&&null!=e.dy&&(a[0]-=e.dx,a[1]-=e.dy,t.setCenter(t.pointToData(a))),null!=r){if(o){var s=o.min||0,l=o.max||1/0;r=Math.max(Math.min(i*r,l),s)/i}t.scaleX*=r,t.scaleY*=r;var d=(e.originX-t.x)*(r-1),c=(e.originY-t.y)*(r-1);t.x-=d,t.y-=c,t.updateTransform(),t.setCenter(t.pointToData(a)),t.setZoom(r*i)}return{center:t.getCenter(),zoom:t.getZoom()}}(e.coordinateSystem,t);e.setCenter&&e.setCenter(o.center),e.setZoom&&e.setZoom(o.zoom)}))}))}function bt(t){t.registerChartView(K),t.registerSeriesModel(gt),t.registerLayout(mt),t.registerVisual(vt),xt(t)}}}]);
//# sourceMappingURL=19.fd053764.chunk.js.map